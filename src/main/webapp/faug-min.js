var Faug=new function(){var am={};var e={};var a={};var aK={};var bQ={};var bJ={};var U={};var ba={};var ag={"":{}};var aU={};var M={};var R=undefined;var A={};var bO={};var bm={};var o={};var af=false;var aT=false;var aa="c";var au="r";var x="u";var C="d";var a7="ra";var w="YYYY-MM-DD";var a1="YYYY-MM-DD HH:mm:ss";var N="HH:mm:ss";var bf="X";var i="config.json";var bM={defaultroute:"",routes:{}};var bG=false;var W="faug-freeze-element";var T='<h3><img src="resources/busy.gif" /> Just a moment...</h3>';var bw=0;var b={};var m=false;var L=false;var bE=true;var bS;var aG;var J="__SCOPED_VAR__"+new Date().getTime()+"__";var aX=undefined,bu=undefined;var v;var aj=0;var bz=[];var bL=0;var bT={};var aq={};var aM=true;var n="__RARGS__"+new Date().getTime()+"__";var aB=undefined;var c=false;var bx=undefined;var f=undefined;var a5=false;var O="USD";this.getConfigPath=function(){return i};this.getProperty=function(bU){if(bU=="loadconfigafterauth"){return c}else{if(bU=="stateFreeze"){return bx}else{if(bU=="inited"){return Q}else{if(bU=="initialLoaderScreen"){return bE}}}}};this.gp=this.getProperty;this.setProperty=function(bV,bU){if(bV=="loadconfigafterauth"&&y("Boolean",bU)){c=bU}else{if(bV=="stateFreeze"&&(bU===undefined||y("Array",bU))){bx=bU}}};this.sp=this.setProperty;this.getSchemaHtmlTemplatesStr=function(){return JSON.stringify(bT)};this.getOtherHtmlTemplatesStr=function(){return JSON.stringify(aq)};this.getSchemaMapStr=function(){return JSON.stringify(e)};this.isInitialLoaderScreen=function(){return bE};var g=this.isInitialLoaderScreen;this.getSchemaResources=function(){return bS};var bc=this.getSchemaResources;this.isDebugEnabled=function(){return aT===true};this.getRouteArgs=function(){return o[n]};var bF=[["resources/javascript-xpath-latest-cmp.js"],["resources/bootstrap.min.js"],["resources/json2.js"],["resources/jquery.dataTables.js"],["resources/dataTables.bootstrap.js"]];this.dependencies=function(bW,bV){if(bW&&bW.length>0){if(bV){this.deps=[]}for(var bU=0;bU<bW.length;bU++){this.deps.push([bW[bU]])}}};var bC=this.dependencies;this.settings=function(b3,b5,bX,b1,bY,bW,b2,b6,b7,bV,b4,bU,b8,b9,b0,bZ){if(b3){i=b3}if(b5){aT=b5}if(bX){aa=bX}if(b1){au=b1}if(bY){x=bY}if(bW){C=bW}if(b2){a7=b2}if(b6){w=b6}if(b7){a1=b7}if(bV){N=bV}if(b4){bf=b4}if(bU){bG=bU}if(b8){W=b8}if(b9){T=b9}if(b0){L=b0}if(bZ){m=bZ}};this.initAuthObject=function(bV,bW,bU){R={aTokenName:bV,aTokenValue:bW,aTokenWhere:bU};if(c){__loadfaugconfig()}};this.ia=this.initAuthObject;this.getSchemaMap=function(){return e};var bb=this.getSchemaMap;this.gsm=this.getSchemaMap;function bH(bU){return(bU=="string"||bU=="number"||bU=="integer"||bU=="file"||bU=="fileasbase64"||bU=="boolean"||bU=="date"||bU=="float"||bU=="double"||bU=="decimal"||bU=="datetime"||bU=="time"||bU=="timestamp"||bU=="customdate"||bU=="email"||bU=="url")}this.is=function(bU,bV){var bW=Object.prototype.toString.call(bV).slice(8,-1);return bV!==undefined&&bV!==null&&bW===bU};var y=this.is;this.isNode=function(bU){return(typeof Node==="object"?bU instanceof Node:bU&&typeof bU==="object"&&typeof bU.nodeType==="number"&&typeof bU.nodeName==="string")};var a3=this.isNode;this.isElement=function(bU){return(typeof HTMLElement==="object"?bU instanceof HTMLElement:bU&&typeof bU==="object"&&bU!==null&&bU.nodeType===1&&typeof bU.nodeName==="string")};var a0=this.isElement;this.ise=this.isElement;this.byId=function(bU){if(!d(bU)){if(bU.indexOf("#")==0){return $(document.getElementById(bU.substring(1)))}return $(document.getElementById(bU))}return $("")};var at=this.byId;this.bi=this.byId;this.byName=function(bU){return $(document.getElementsByName(bU))};var aL=this.byName;this.bn=this.byName;this.byIdOrSelector=function(bV){if(!d(bV)){try{if($(bV).length>0){return $(bV)}else{if(bV.indexOf("#")==0){return $(document.getElementById(bV.substring(1)))}return $(document.getElementById(bV))}}catch(bU){if(bV.indexOf("#")==0){return $(document.getElementById(bV.substring(1)))}return $(document.getElementById(bV))}}return $("")};var bq=this.byIdOrSelector;this.bys=this.byIdOrSelector;this.isN=function(bU){return bU===undefined||bU==null||bU===""};var d=this.isN;this.returnIfN=function(bV,bU){return d(bV)?bU:bV};var q=this.returnIfN;function bi(bX,bV,bW){var bY=bV[bX];var bU=bW.split("|");if(bU[0]=="len"||bU[0]=="length"){bY=bY.length}else{if(bU[0]=="regex"){if(!b[bU[2]]){b[bU[2]]=new RegExp(bU[2])}return b[bU[2]].test(bY)}}if(bU[1]=="="){return bY==bU[2]}else{if(bU[1]=="!="){return bY!=bU[2]}else{if(bU[1]=="<"){return bY<bU[2]}else{if(bU[1]=="<="){return bY<=bU[2]}else{if(bU[1]==">"){return bY>bU[2]}else{if(bU[1]==">="){return bY>=bU[2]}else{if(bU[1]=="!n"){return bY!==null}else{if(bU[1]=="n"){return bY===null}else{if(bU[1]=="u"){return bY===undefined}else{if(bU[1]=="!u"){return bY!==undefined}}}}}}}}}}return false}function p(b2,bZ,b3){if(b2.indexOf(":")!=-1){var bU;var bW=b2.substring(0,b2.indexOf(":"));var b4=b2.substring(b2.indexOf(":")+1);var b1=bW.split("|");var bV=(b3&&bZ.length>0)?b3:P(b4,bZ);if(bV[0]){if(!bV[1]){return false}bU=bV[1]+"";if(b1[0]=="len"||b1[0]=="length"){bU=bU.length}else{if(b1[0]=="regex"){if(!b[b1[2]]){b[b1[2]]=new RegExp(b1[2])}return b[b1[2]].test(bU)}}try{var bY=bU*1;var b0=b1[2]*1;bU=bY;b1[2]=b0}catch(bX){}if(b1[1]=="="){return bU==b1[2]}else{if(b1[1]=="!="){return bU!=b1[2]}else{if(b1[1]=="<"){return bU<b1[2]}else{if(b1[1]=="<="){return bU<=b1[2]}else{if(b1[1]==">"){return bU>b1[2]}else{if(b1[1]==">="){return bU>=b1[2]}else{if(b1[1]=="!n"){return bU!==null}else{if(b1[1]=="n"){return bU===null}else{if(b1[1]=="u"){return bU===undefined}else{if(b1[1]=="!u"){return bU!==undefined}}}}}}}}}}}}return true}function ab(bW,bY){var bU=true;if(bW){for(var bV=0;bV<bW.length;bV++){var bX=bW[bV];if(!d(bX)){bU&=p(bX,bY)}}}return bU}function k(bV,b0,b1){var bU=true;var bY=[];if(bV&&bV.cond){for(var bW=0;bW<bV.cond.length;bW++){var bX=bV.cond[bW];if(bX.length>1&&bX[0]){var bZ=p(bX[0],b0,b1);if(!bZ&&bX[1]){bY.push(bX[1])}else{bY.push(undefined)}bU&=bZ}}}return[bU,bY]}function j(bV){var bU=aG.getDialog(bV,a6);if(bU){return bU}else{return a6(bV)}}function ay(b1,bX){var bY=b1.cond;if(b1.show||b1.hide){var bZ=ab(bY,bX);if(bZ){var bV=b1.showclass?b1.showclass:undefined;var bW=b1.hideclass?b1.hideclass:undefined;var b0=b1.show;var bU=b1.hide;if(b0&&b0.length>0){for(var b2=0;b2<b0.length;b2++){if(bV&&bW){at(b0[b2]).removeClass(bW);at(b0[b2]).addClass(bV)}else{if(bV){at(b0[b2]).addClass(bV)}else{if(bW){at(b0[b2]).removeClass(bW)}else{at(b0[b2]).show()}}}}}if(bU&&bU.length>0){for(var b2=0;b2<bU.length;b2++){if(bV&&!bW){at(bU[b2]).removeClass(bV);at(bU[b2]).addClass(bW)}else{if(bV){at(bU[b2]).removeClass(bV)}else{if(bW){at(bU[b2]).addClass(bW)}else{at(bU[b2]).hide()}}}}}}}}this.setPrevElement=function(bU){aX=bU};function a6(bU){return function(bV,b4,b1,bX){if(bV&&!b4){b4=$(bV.currentTarget)}bu=aX;if(bV&&bV.type!="hashchange"){aX=$(bV.currentTarget)}var b6=o[n];var bY=u(bu);var ca=u(aX);var bZ=bU.crudop;var b9=bU.load;var b3={};if(bU.vars){for(var b2 in bU.vars){if(bU.vars.hasOwnProperty(b2)){var bW=P(bU.vars[b2],b4);if(bW[0]){b3[b2]=bW[1]}}}}var cb=[bV,b4,ca,bY,b6,b1,b3];if(bU.varAssign){for(var b2 in bU.varAssign){if(bU.varAssign.hasOwnProperty(b2)){var bW=P(bU.varAssign[b2],b4);if(bW[0]){o[b2]=bW[1]}}}}var b5=ab(bU.cond,b4);if(b5){var b8=true;var b0=true;if(!d(b9)&&!d(b9.selector)&&!d(b9.template)){b0=ab(b9.cond,b4);if(b0){b8=false;if(!d(b9.store_var)&&!d(b9.store_var["name"])&&!d(b9.store_var["key"])&&a[b9.store_var["name"]]&&o[b9.store_var["key"]]&&a[b9.store_var["name"]][o[b9.store_var["key"]]]){var b7=a[b9.store_var["name"]][o[b9.store_var["key"]]];$.get(b9.template,function(cg,ce,cc,cf,cd){return function(ch){bB(cg,ce,cf,cg.load["selector"],cc,ch,cd)}}(bU,cb,b7,b4,bX))}else{$(b9.selector).load(b9.template,function(ce,cc,cd){return function(){bB(ce,cc,cd,undefined,undefined,undefined,bX)}}(bU,cb,b4))}}}if(b8){bB(bU,cb,b4,undefined,undefined,undefined,bX)}}}}function bB(b0,cd,bU,cf,b7,cl,bZ){var ch=b0.eleid;var b5=b0.jqselector;var b1=b0.func;var bV=b0.outfunc;var b2=b0.load;var b9=b0.crudop;var ce=b0.showhide;var cj=b0.routeTo;var bX=b0.preRouteTo;var b3=b0.draw;if(b9&&!y("Array",b9)){b9=[b9]}if(b3&&!y("Array",b3)){b3=[b3]}cd.push(true);var bY=[];if(bZ){for(var cg=0;cg<bZ.length;cg++){bY.push(bZ[cg])}for(var cg=3;cg<cd.length;cg++){bY.push(cd[cg])}}else{for(var cg=0;cg<cd.length;cg++){bY.push(cd[cg])}}if(cf&&cl){cl=aG.templateEngine(cl,b7,false);$(cf).html(cl)}if(bX){var b8={};if(cd[4]){var b6=cd[4];for(var cc in b6){if(b6.hasOwnProperty(cc)){b8[cc]=b6[cc]}}}if(cd[6]){var b6=cd[6];for(var cc in b6){if(b6.hasOwnProperty(cc)){b8[cc]=b6[cc]}}}bX=bd(bX,b8,true);a8(bX)}if(!d(b1)){I(b1,bY)}if(b9){for(var b4=0;b4<b9.length;b4++){var cb=e[b9[b4].schemaName];var bW=cb.crud[b9[b4].op];if(b9[b4]["vars"]){bW.transientVars={};for(var cc in b9[b4]["vars"]){if(b9[b4]["vars"].hasOwnProperty(cc)){var cm=P(b9[b4]["vars"][cc],cd[1]);if(cm[0]){bW.transientVars[cc]=cm[1]}}}}if(cd[4]){if(!bW.transientVars){bW.transientVars={}}var b6=cd[4];for(var cc in b6){if(b6.hasOwnProperty(cc)){bW.transientVars[cc]=b6[cc]}}}if(cd[6]){if(!bW.transientVars){bW.transientVars={}}var b6=cd[6];for(var cc in b6){if(b6.hasOwnProperty(cc)){bW.transientVars[cc]=b6[cc]}}}bk(b9.length==1?b1:null,b9[b4],[cd[0],cd[1]],ch,b5)}}if(b3){for(var b4=0;b4<b3.length;b4++){var ca=b3[b4];if(ca.schemaName){var ck=ca.show===true?true:false;if(ca.type==="edit"){bI(ca.schemaName,undefined,ck)}else{if(ca.type==="editCM"){bI(ca.schemaName,cd[2],ck)}else{if(ca.type==="editPM"){bI(ca.schemaName,cd[3],ck)}else{if(ca.type==="reset"){bp(ca.schemaName)}else{bR(ca.schemaName,undefined,ck)}}}}}}}if(ce){for(var b4=0;b4<ce.length;b4++){ay(ce[b4],bU)}}if(!d(bV)){I(bV,bY)}if(cj){var b8={};if(cd[4]){var b6=cd[4];for(var cc in b6){if(b6.hasOwnProperty(cc)){b8[cc]=b6[cc]}}}if(cd[6]){var b6=cd[6];for(var cc in b6){if(b6.hasOwnProperty(cc)){b8[cc]=b6[cc]}}}cj=bd(cj,b8,true);a8(cj)}}function aP(bU,bY,ce,b8){if(b8===undefined){b8=true}if(b8){ce.unshift(bY)}var cb={valid:false,result:undefined};var b2={};if(bU){if(bU!==undefined&&bU[bY]!==undefined){var b6=bU[bY];var bX=undefined;var bV=undefined;if(y("Object",bU[bY])){for(var b4 in bU[bY]){if(bU[bY].hasOwnProperty(b4)&&b4=="controlEvents"&&y("Array",bU[bY][b4])){var bZ=bU[bY][b4];for(var ca=0;ca<bZ.length;ca++){var b0=bZ[ca]["jqselector"];var cd=bZ[ca]["eleid"];var b9=bZ[ca]["event"];if(!y("Array",bZ[ca]["cond"])){bZ[ca]["cond"]=[bZ[ca]["cond"]]}if(b9){var bW=b9.split(",");for(var b5=0;b5<bW.length;b5++){if(!d(cd)){if(!d(b0)){at(cd).off()}else{at(cd).off()}}else{$(b0).off()}}}}}}for(var b4 in bU[bY]){if(bU[bY].hasOwnProperty(b4)&&b4=="controlEvents"&&y("Array",bU[bY][b4])){var bZ=bU[bY][b4];for(var ca=0;ca<bZ.length;ca++){var b0=bZ[ca]["jqselector"];var cd=bZ[ca]["eleid"];var b9=bZ[ca]["event"];if(!y("Array",bZ[ca]["cond"])){bZ[ca]["cond"]=[bZ[ca]["cond"]]}if(b9){var bW=b9.split(",");for(var b5=0;b5<bW.length;b5++){if(!d(cd)){if(!d(b0)){at(cd).on(bW[b5],b0,j(bZ[ca]))}else{at(cd).on(bW[b5],j(bZ[ca]))}}else{$(b0).on(bW[b5],j(bZ[ca]))}}}}}else{b2[b4]=bU[bY][b4]}}}a6(b2)(undefined,undefined,undefined,ce)}}else{if(bY){var b1=o[n];var cc={};if(bX){for(var b7 in bX){if(bX.hasOwnProperty(b7)){var b3=P(bX[b7],undefined);if(b3[0]){cc[b7]=b3[1]}}}}ce.push(b1);ce.push(cc);cb=I(bY,ce)}}return cb}this.execFunc=function(bX,bY,bV){var bU={valid:false,result:undefined};if(!bX){}else{if(typeof bX==="function"){if(bV){bU.result=bX.apply(null,bY)}else{bU.result=bX(bY)}bU.valid=true}else{if(y("String",bX)){var bW=window[bX];if(bX.indexOf(".")!=-1){bW=aI(window,bX)}if(typeof bW==="function"){if(bV){bU.result=bW.apply(null,bY)}else{bU.result=bW(bY)}bU.valid=true}}}}return bU};var I=this.execFunc;this.ef=this.execFunc;this.ajaxGet=function(b1,bW,b0,bV,bZ,bY,bU,bX){l(b1,"GET",bW,"",null,b0,bV,bZ,bY,bU,bX)};this.ag=this.ajaxGet;this.ajaxPost=function(b3,bW,bV,b2,bU,bZ,b1,bY,bX,b0){l(b3,"POST",bW,bV,b2,bU,bZ,b1,bY,bX,b0)};this.apo=this.ajaxPost;this.ajaxPut=function(b3,bW,bV,b2,bU,bZ,b1,bY,bX,b0){l(b3,"PUT",bW,bV,b2,bU,bZ,b1,bY,bX,b0)};this.apu=this.ajaxPut;this.ajaxDelete=function(b3,bW,bV,b2,bU,bZ,b1,bY,bX,b0){l(b3,"DELETE",bW,bV,b2,bU,bZ,b1,bY,bX,b0)};this.ad=this.ajaxDelete;this.ajaxCall=function(b4,b3,bW,bV,b2,bU,bZ,b1,bY,bX,b0){if(bY===undefined||bY===null){bY=true}else{async=bY}if(b4){aR(true)}if(R){if(R.aTokenWhere=="queryparam"){if(bW.indexOf("?")==-1){bW+="?"+R.aTokenName+"="+R.aTokenValue}else{bW+="&"+R.aTokenName+"="+R.aTokenValue}}else{if(R.aTokenWhere=="header"){if(!bU){bU={}}bU[R.aTokenName]=R.aTokenValue}}}$.ajax({headers:bU,type:b3,processData:false,url:bW,contentType:bV,data:b2,async:bY}).done(function(b9,b8,b5){aR(false);var b7=b5.responseJSON;if(!b7){try{b7=JSON.parse(b5.responseText)}catch(b6){b7=b5.responseText}}if(bZ){if(bX){bX.unshift(b7);bZ.apply(null,bX)}else{bZ(b7)}}}).fail(function(b5,b9,b8){aR(false);var b7=b5.responseJSON;if(!b7){try{b7=JSON.parse(b5.responseText)}catch(b6){b7=b5.responseText}}if(b1){if(b0){b0.unshift(b7);b1.apply(null,b0)}else{b1(b7)}}})};var l=this.ajaxCall;this.ac=this.ajaxCall;this.ajaxMTGet=function(b1,bW,b0,bV,bZ,bY,bU,bX){bK(b1,"GET",bW,"",null,b0,bV,bZ,bY,bU,bX)};this.amg=this.ajaxMTGet;this.ajaxMTPost=function(b3,bW,bV,b2,bU,bZ,b1,bY,bX,b0){bK(b3,"POST",bW,bV,b2,bU,bZ,b1,bY,bX,b0)};this.ampo=this.ajaxMTPost;this.ajaxMTPut=function(b3,bW,bV,b2,bU,bZ,b1,bY,bX,b0){bK(b3,"PUT",bW,bV,b2,bU,bZ,b1,bY,bX,b0)};this.ampu=this.ajaxMTPut;this.ajaxMTDelete=function(b3,bW,bV,b2,bU,bZ,b1,bY,bX,b0){bK(b3,"DELETE",bW,bV,b2,bU,bZ,b1,bY,bX,b0)};this.amd=this.ajaxMTDelete;this.ajaxMTCall=function(b5,b4,bW,bV,b2,bU,bZ,b1,bY,bX,b0){var b3=0;if(b3==bz.length){b3=0}if(bz.length>b3){if(R){if(R.aTokenWhere=="queryparam"){if(bW.indexOf("?")==-1){bW+="?"+R.aTokenName+"="+R.aTokenValue}else{bW+="&"+R.aTokenName+"="+R.aTokenValue}}else{if(R.aTokenWhere=="header"){if(!bU){bU={}}bU[R.aTokenName]=R.aTokenValue}}}aR(true);bz[b3].send([b4,bW,bV,b2,bU,typeof bZ==="function"?bZ.name:bZ,typeof b1==="function"?b1.name:b1,bX,b0,false])}else{l(b5,b4,bW,bV,b2,bU,bZ,b1,bY,bX,b0)}};var bK=this.ajaxMTCall;this.amc=this.ajaxMTCall;function bg(bX,b4,b1,b2,bW){var bZ="";if(y("Object",b2)){for(var b3 in b2){if(b2.hasOwnProperty(b3)){if(b2[b3]!=null&&b2[b3]!==undefined){bZ+=(b3+'="'+b2[b3]+'" ')}}}b2=bZ}if(bW==undefined){bW="div"}if(bX==null||bX===undefined){return[b4,b1,b2,bW]}var bY="",bV="",b0="";if(bX.hasOwnProperty("el")){bW=bX.el}if(bX.hasOwnProperty("attrpos")){bY=bX.attrpos}if(bX.hasOwnProperty("stylepos")){bV=bX.stylepos}if(bX.hasOwnProperty("classpos")){b0=bX.classpos}if(bY==""){bY="append"}if(bV==""){bV="append"}if(b0==""){b0="append"}if(bX.style!==undefined&&bX.style!=""){if(bV=="append"){b4+=";"+bX.style+";"}else{if(bV=="prepend"){b4=bX.style+";"+b4}else{b4=bX.style+";"}}}if(bX.attrs!==undefined){var bU="";for(var b3 in bX.attrs){if(bX.attrs.hasOwnProperty(b3)){if(bX.attrs[b3]!=null&&bX.attrs[b3]!==undefined){bU+=(b3+'="'+bX.attrs[b3]+'" ')}}}if(bY=="append"){b2+=" "+bU}else{if(bY=="prepend"){b4=b2+" "+bU}else{b2=bU}}}if(bX["class"]!==undefined&&bX["class"]!=""){if(b0=="append"){b1+=" "+bX["class"]}else{if(b0=="prepend"){b1=" "+bX["class"]+" "+b1}else{b1=bX["class"]+" "}}}return[b4,b1,b2,bW]}function be(bZ,b9,db,bW,cW,c4,cX,cf,cL,cB,cp,b6,ch,di){var cm,dd;if(cX&&y("Array",cX)){cm=cX[0];if(cX.length>1){dd=cX[1]}}else{cm=cX}var b1=false;if(c4&&c4.hasOwnProperty("showhelptext")){b1=c4.showhelptext==true||c4.showhelptext==1?true:false}var ck="",cu={},cr="form-group",co="div";var c7="",dg={},de="",dc="label";var cG="",cV={},cT="form-control",cO=bZ;var bY="",cz={},cw="",cv="i";var dj=undefined;if(b9!==undefined){ck=b9[0];cr=b9[1];cu=b9[2];co=b9.length>3?b9[3]:co}if(db!==undefined){c7=db[0];de=db[1];dg=db[2];dc=db[3]>3?db[3]:dc}if(cW!==undefined){cG=cW[0];cT=cW[1];cV=cW[2];cO=cW[3]>3?cW[3]:cO}if(bW!==undefined){bY=bW[0];cw=bW[1];cz=bW[2];cv=bW[3]>3?bW[3]:cv}if(c4&&c4["transient"]===true){cV.name=""}var cj;var cn;var cU=undefined,df=undefined,ct=undefined,cJ=undefined,cx=undefined;if(!d(cf)){cU=cf;if(cf){if(cf.label!==undefined){df=cf.label["custom"]}if(cf.container!==undefined){ct=cf.container["custom"]}if(cf.helpText!==undefined){cJ=cf.helpText["custom"]}if(cf.icon!==undefined){cx=cf.icon["custom"]}cn=cf.customTemplate}if(dj=="radio"||dj=="checkbox"){cT=cT.replace("form-control","")}}if(!d(c4)){cU=c4.custom;if(c4.hasOwnProperty("custom")){if(c4.custom["label"]!==undefined){df=c4.custom["label"]["custom"]}if(c4.custom["container"]!==undefined){ct=c4.custom["container"]["custom"]}if(c4.custom["helpText"]!==undefined){cj=c4.custom["helpText"];cJ=c4.custom["helpText"]["custom"]}if(c4.custom["icon"]!==undefined){cx=c4.custom["icon"]["custom"]}}dj=c4.ui;if(dj=="radio"||dj=="checkbox"){cT=cT.replace("form-control","")}}var dk=cV.id;cV.id=undefined;var c8=bg(cU,cG,cT,cV,cO);cG=c8[0];cT=c8[1];cV=c8[2];cO=c8[3];c8=bg(df,c7,de,dg,dc);c7=c8[0];de=c8[1];dg=c8[2];dc=c8[3];c8=bg(cx,bY,cw,cz,cv);bY=c8[0];cw=c8[1];cz=c8[2];cv=c8[3];c8=bg(ct,ck,cr,cu,co);ck=c8[0];cr=c8[1];cu=c8[2];co=c8[3];co=q(co,"div");dc=q(dc,"label");cO=q(cO,bZ);cv=q(cv,"i");if(c4&&c4.type=="html"&&c4.value){var cg=c4.value;if(c4.isTemplate===true){cg=bd(cg,o)}if(c4.container===true){cg=aw(co,null,ck,cr,cu,cg,true)}return cg}if(!d(c4)){if(!c4.type){cV+=' faug-data-type="other" '}else{cV+=' faug-data-type="'+c4.type+'" '}}var dh="";if(b1){var cR="",c1="help-block",c2="",cZ="span";if(cj&&(cj.show===undefined||!cj.show)){cR="display:none;"}if(cj){dh=cj.value}c8=bg(cJ,cR,c1,c2,cZ);cR=c8[0];c1=c8[1];c2=c8[2];cZ=c8[3];cZ=q(cZ,"span");dh=aw(cZ,null,cR,c1,c2,dh,true)}var b0=cB?aw(cv,null,bY,cw,cz,"",true):"";var b8=cL?aw(dc,null,c7,de,dg,cp,true):"";var ci;if(c4&&c4.posistioning){ci=c4.posistioning;if(b8!=""&&ci.indexOf("label")==-1){ci=undefined}else{if(b0!=""&&ci.indexOf("icon")==-1){ci=undefined}else{if(dh!=""&&ci.indexOf("helptext")==-1){ci=undefined}else{if(ci.indexOf("this")==-1){ci=undefined}}}}}if(!ci){ci=["label","icon","this","helptext","html"]}var c0=c4?c4.html:"";if(!c0){c0=""}var cC="value";if(c4!==undefined&&c4.serializeValuePosition){cC=c4.serializeValuePosition;if(cC.indexOf("a:")==0){cC=cC.substring(2)}}if(c4!==undefined&&c4.serializeValueFunction){var cH=c4.serializeValueFunction;cV+=' faug-serialize-function="'+cH+'" '}cV+=' faug-serialize-position="'+cC+'" ';if(c4!==undefined&&b6){var b7="";var cd=c4.hasOwnProperty("default")?c4["default"]:null;var cI=c4.attrAssign;if(!y("Array",c4.attrAssign)&&cI){cI=[c4.attrAssign]}if(!cI){cI=[]}for(var cy=0;cy<cI.length;cy++){var cl=cI[cy];if(cl&&cl.to){if(cl.fromVar){b7=cl.to+'"'+o[cl.fromVar]+'" '}else{if(cl.fromRoute){b7=cl.to+'"'+o[n][cl.fromRoute]+'" '}else{if(dd&&cl.fromData){b7=cl.to+'"'+dd[cl.fromData]+'" '}}}}}var cP=c4.valueAssign;if(!y("Array",c4.valueAssign)&&cP){cP=[c4.valueAssign]}if(!cP){cP=[]}for(var cy=0;cy<cP.length;cy++){var cF=cP[cy];if(cF){if(dd&&cF.fromData){cd=dd[cF.fromData]}else{if(cF.fromVar){cd=o[cF.fromVar]}else{if(cF.fromRoute){cd=o[n][cF.fromRoute]}else{cd=o[cF]}}}}}var cD=c4.hasOwnProperty("defaultIndex")?c4.defaultIndex:null;cV+=(c4.hasOwnProperty("multiple")&&c4.multiple)?"multiple=true ":"";if(dj===undefined||dj==null){dj="select"}dj=dj.toLowerCase();cD=(ch!=null&&cD<ch.length&&cD>=0)?cD:null;if(cD==null&&cd!=null&&cm==null){cm=cd}if(cm!=null){if(ch!=null){cD=null;for(var cy=0;cy<ch.length;cy++){if(ch[cy][0]==(cm+"")){cD=cy;break}}}}var c6="";if(cm!=null){cu+=' acvalue="'+cm+'"'}if(dj=="select"){if(c4.addId===true){cV+=' id="'+(dk)+'" '}if(c4.hasOwnProperty("multiple")&&c4.multiple){cV+="multiple=true ";cT+=" faug-input-select-multiple "}else{cT+=" faug-input-select "}cO="select";if(ch!=null){if(d(cD)){}for(var cy=0;cy<ch.length;cy++){var cA=ch[cy].length>1?ch[cy][1]:ch[cy][0];var cS=(cD!=null&&cD==cy)?"selected":"";c6+='<option value="'+ch[cy][0]+'" '+b7+cS+">"+cA+"</option>"}}c6=aw(cO,null,cG,cT,cV,c6,true)}else{if(dj=="radio"){var cE="",cQ={},cM="",cK="label";var bU="",b5={},b3="radio",b2="div";var cN,b4;if(cU){if(cU.innerlabel){cN=cU.innerlabel["custom"]}if(cU.innercontainer){b4=cU.innercontainer["custom"]}}c8=bg(b4,bU,b3,b5,b2);bU=c8[0];b3=c8[1];b5=c8[2];b2=c8[3];c8=bg(cN,cE,cM,null,cK);cE=c8[0];cM=c8[1];cK=c8[3];var da="";if(cN&&cN.labelpos!==undefined&&cN.labelpos!==null){da=cN.labelpos}if(da==""){da="contained"}if(ch!=null){if(d(cD)){}cO="input";cV+='type="radio" '+b7;cT+=" faug-input-radio ";for(var cy=0;cy<ch.length;cy++){var bV=cV+'type="radio" value="'+ch[cy][0]+'" ';if(dk){bV+=' id="'+(dk+cy)+'" ';if(!cQ){cQ={}}cQ["for"]=(dk+cy)}c8=bg(cN,null,null,cQ,null);var c5=c8[2];var cA=ch[cy].length>1?ch[cy][1]:ch[cy][0];bV+=((cD!=null&&cD==cy)?"checked":"");var bX="";if(da=="before"){bX=aw(cK,null,cE,cM,c5,cA,true);bX+=aw(cO,null,cG,cT,bV,null,true)}else{if(da=="contained"){bX=aw(cO,null,cG,cT,bV,null,true);bX=aw(cK,null,cE,cM,c5,cA+bX,true)}else{if(da=="after"){bX=aw(cO,null,cG,cT,bV,null,true);bX+=aw(cK,null,cE,cM,c5,cA,true)}}}c6+=aw(b2,null,bU,b3,b5,bX,true)}}}else{if(dj=="checkbox"){var cE="",cQ={},cM="",cK="label";var bU="",b5={},b3="radio",b2="div";var cN,b4;if(cU){if(cU.innerlabel){cN=cU.innerlabel["custom"]}if(cU.innercontainer){b4=cU.innercontainer["custom"]}}c8=bg(b4,bU,b3,null,b2);bU=c8[0];b3=c8[1];b5=c8[2];b2=c8[3];c8=bg(cN,cE,cM,null,cK);cE=c8[0];cM=c8[1];cK=c8[3];var da="";if(cN&&cN.labelpos!==undefined&&cN.labelpos!==null){da=cN.labelpos}if(da==""){da="contained"}if(ch!=null){if(d(cD)){}cO="input";cV+='type="checkbox" ';cT+=" faug-input-checkbox ";for(var cy=0;cy<ch.length;cy++){var bV=cV+'type="checkbox" value="'+ch[cy][0]+'" ';if(dk){bV+=' id="'+(dk+cy)+'" ';if(!cQ){cQ={}}cQ["for"]=(dk+cy)}c8=bg(cN,null,null,cQ,null);var c5=c8[2];var cA=ch[cy].length>1?ch[cy][1]:ch[cy][0];bV+=((cD!=null&&cD==cy)?'checked="checked"':"");var bX="";if(da=="before"){bX=aw(cK,null,cE,cM,c5,cA,true);bX+=aw(cO,null,cG,cT,bV,null,true)}else{if(da=="contained"){bX=aw(cO,null,cG,cT,bV,null,true);bX=aw(cK,null,cE,cM,c5,cA+bX,true)}else{if(da=="after"){bX=aw(cO,null,cG,cT,bV,null,true);bX+=aw(cK,null,cE,cM,c5,cA,true)}}}c6+=aw(b2,null,bU,b3,b5,bX,true)}}}}}if(!cn||c4.show===false){var c9=c6;c6="";for(var cq=0;cq<ci.length;cq++){if(ci[cq]=="label"){c6+=b8}else{if(ci[cq]=="icon"){c6+=b0}else{if(ci[cq]=="helptext"){c6+=dh}else{if(ci[cq]=="this"){c6+=c9}else{if(ci[cq]=="html"){c6+=c0}}}}}}return aw(co,null,ck,cr,cu,c6,true)}else{var cY={label:b8,icon:b0,helptext:dh,html:c0,element:c6,cc:cr,cs:ck,ca:cu};return bd(cn,cY,false)}}else{if(c4&&c4.addId===true){cV+=' id="'+(dk)+'" '}if(cO=="input"||cO=="hidden"||d(cm)){cm=""}if(di){return aw(cO,null,cG,cT,cV,cm,true)}if(cO=="input"||cO=="hidden"||cO=="textarea"){if(dj){cT+=" faug-input-"+dj+" "}}var c3=c4.elementHtml?c4.elementHtml:aw(cO,null,cG,cT,cV,cm,true);if(!cn||(c4&&c4.show===false)){c6="";for(var cq=0;cq<ci.length;cq++){if(ci[cq]=="label"){c6+=b8}else{if(ci[cq]=="icon"){c6+=b0}else{if(ci[cq]=="helptext"){c6+=dh}else{if(ci[cq]=="this"){c6+=c3}else{if(ci[cq]=="html"){c6+=c0}}}}}}return aw(co,null,ck,cr,cu,c6,true)}else{var cY={label:b8,icon:b0,helptext:dh,html:c0,element:c3,cc:cr,cs:ck,ca:cu};return bd(cn,cY,false)}}}var bt="abcdefghijklmnopqrstuvwxyz ~`!@#$%^&*()_+-=[]\\;'/.,<>?:\"{}|";var V="abcdefghijklmnopqrstuvwxyz";var s="0123456789";var bn="0123456789.";function bj(bU){return bU==parseInt(bU)}function S(bW){if(bW==""){return true}bW=bW.toLowerCase();for(var bU=0;bU<bW.length;bU++){if(bn.indexOf(bW.charAt(bU))==-1){return false}}var bV=bW.split(".");if(bV>1){return false}return true}function H(bV){if(bV==""){return true}bV=bV.toLowerCase();for(var bU=0;bU<bV.length;bU++){if(V.indexOf(bV.charAt(bU))==-1){bV="";return false}}return true}function a9(bV){if(bV==""){return true}bV=bV.toLowerCase();for(var bU=0;bU<bV.length;bU++){if(bt.indexOf(bV.charAt(bU))==-1){return false}}return true}function ai(bV){if(bV==""){return true}bV=bV.toLowerCase();for(var bU=0;bU<bV.length;bU++){if(s.indexOf(bV.charAt(bU))==-1){return false}}return true}function F(bV){if(bV==""){return true}bV=bV.toLowerCase();for(var bU=0;bU<bV.length;bU++){if(bt.indexOf(bV.charAt(bU))==-1&&s.indexOf(bV.charAt(bU))==-1){return false}}return true}function az(bU){if(bU==""){return true}if((typeof bU=="string"&&(bU.toLowerCase()=="true"||bU.toLowerCase()=="yes"||bU=="1"||bU.toLowerCase()=="false"||bU.toLowerCase()=="no"||bU=="0"))||bU==1||bU==0){return true}return false}function t(bU,bV){if(bV===undefined){bV=bU.getAttribute("faug-data-type")}bV=bV.toLowerCase();if(bV=="boolean"){if(!az(bU.value)){if(aT){alert("A Boolean value was expected..")}}}else{if(bV=="number"||bV=="integer"){if(!ai(bU.value)){if(aT){alert("A Numeric value was expected..")}bU.value=""}}else{if(bV=="aplha-strict"){if(!H(bU.value)){if(aT){alert("A Strict alphabetical value was expected..")}bU.value=""}}else{if(bV=="alpha"){if(!a9(bU.value)){if(aT){alert("A Alphabetical value was expected..")}bU.value=""}}else{if(bV=="alpha-numeric"){if(!F(bU.value)){if(aT){alert("An Alphanumeric value was expected..")}bU.value=""}}else{if(bV=="float"||bV=="double"){if(!S(bU.value)){if(aT){alert("A Floating point value was expected..")}bU.value=""}}else{if(bV=="char"){if(bU.value.length!=1){if(aT){alert("A Character value was expected..")}}}}}}}}}}function aC(b9,df,cS,bW,cL,cY,cj,cR,cJ,b6,c7){var dd,dm;if(cY&&y("Array",cY)){dd=cY[0];if(cY.length>1){dm=cY[1]}}else{dd=cY}if(cS.type=="copyof"&&!d(cS.target)){if(b9.properties&&b9.properties[cS.target]){var bX=JSON.parse(JSON.stringify(b9.properties[cS.target]));if(!d(cS.show)){bX.show=cS.show}if(!d(cS.display)){bX.display=cS.display}if(!d(cS.events)){bX.events=cS.events}if(!d(cS.section)){bX.section=cS.section}if(!d(cS.groupMarker)){bX.groupMarker=cS.groupMarker}return aC(b9,df,bX,bW,cL,cY,cj,cR,cJ,b6)}return""}else{if(cS.type=="html"&&cS.value){if(cS.condition){var dk=I(cS.condition,[df,cS,dd]);if(dk.valid&&dk.result===false){return""}}var cm="",cw={},cv="form-group";if(cL!=null&&cL!==undefined){if(y("Array",cL)){for(var dl=0;dl<cL.length;dl++){for(var cP in cL[dl]){if(cL[dl].hasOwnProperty(cP)){cw[cP]=cL[dl][cP]}}}}else{if(y("Object",cL)){for(var cP in cL){cw[cP]=cL[cP]}}}}var b3=true;if(cS.hasOwnProperty("show")){b3=cS.show}if(!b3){cm+="display:none;"}if(cS.required==true){cv+=" required has-error"}cw.id=bW+"_cont";return be("div",[cm,cv,cw],undefined,undefined,undefined,cS,undefined,b6,false,false,"",true,[])}else{if(bH(cS.type)){if(cS.condition){var dk=I(cS.condition,[df,cS,dd]);if(dk.valid&&dk.result===false){return""}}var cD=false;var cm="",cw={},cv="form-group";var ch=dd==null?"":dd;var cQ=dd;if(typeof ch=="string"&&ch!=""){ch=ch.replace(/"/g,"&quot;")}if(cL!=null&&cL!==undefined){if(y("Array",cL)){for(var dl=0;dl<cL.length;dl++){for(var cP in cL[dl]){if(cL[dl].hasOwnProperty(cP)){cw[cP]=cL[dl][cP]}}}}else{if(y("Object",cL)){for(var cP in cL){cw[cP]=cL[cP]}}}}var bU={};bU.name=bW;bU.id=bW;if(cS.hasOwnProperty("isattr")){bU.isattr=cS.isattr}if(aK[df.name]&&cS.hasOwnProperty("edit")&&!cS.edit){bU.disabled=true}if(cS.hasOwnProperty("showlabel")){cR&=cS.showlabel==true||cS.showlabel==1?true:false}if(cS.hasOwnProperty("showicon")){cD=cS.showicon==true||cS.showicon==1?true:false}var db="",dq={},dn="";var bY="",cC={},cz="";var cM="",cW={},cU="form-control";var cV=null;var c3=cJ;if(cJ!=null){cV=cJ.substring(0,1).toUpperCase()+cJ.substring(1)}if(cS.hasOwnProperty("display")){if(a5&&cS.translate!==false){cV=translate(cS.display)}else{if(cS.translate===false){cV=translate(cS.display)}else{cV=cS.display}}}var b3=true;if(cS.hasOwnProperty("show")){b3=cS.show}var b1=false;if(b3&&cS.decoratePicker!==false){if(cS.type=="date"){b1=true;cU+=" faug-date ";bU["faug-date-format"]=w}else{if(cS.type=="datetime"){b1=true;cU+=" faug-datetime ";bU["faug-date-format"]=a1}else{if(cS.type=="time"){b1=true;cU+=" faug-time ";bU["faug-date-format"]=N}else{if(cS.type=="timestamp"){b1=true;cU+=" faug-timestamp ";bU["faug-date-format"]=bf}else{if(cS.type=="customdate"){b1=true;cU+=" faug-customdate "}}}}}if(cS.dateFormat){bU["faug-date-format"]=cS.dateFormat}if(cS["default"]===""){ch=null;bU["faug-date-default"]=""}else{bU["faug-date-default"]="val"}}if(!b3){cm+="display:none;"}if(!cS.hasOwnProperty("events")){cS.events={}}if(!cS.validations||!cS.validations["cond"]){cS.validations=undefined}if(cS.required===true&&cS["added--required"]!==true){if(!cS.validations){cS.validations={};cS.validations["cond"]=[]}cS.validations["cond"].push(["len|>|0:this@value",cV+" is Required"]);cS.validations["errorselector"]="helpText";cS["added--required"]=true}var b5=function(ce,ca,cs,cc){return function(dF,dt){if(ce.validations){var dx=k(ce.validations,dF);if(!dx[0]){var dC=dx[1];var dB="";for(var dy=0;dy<dC.length;dy++){if(!dC[dy]){continue}dB+=dC[dy]+"<br/>"}if(ce.validations["errorselector"]=="helpText"){var dv=dF.parent();var dD=dv.find(".help-block");if(dD.length==0){dv=at(cs+"_cont");dD=dv.find(".help-block");if(dD.length>0){dD.html(dB);dD.show()}}else{dD.html(dB);dD.show()}dv.addClass("has-error");dv.removeClass("has-success")}t(dF[0],ce.type);if(dF.attr("type")=="text"||dF.attr("type")=="number"||dF.attr("type")=="url"||dF.attr("type")=="email"){dF.val("")}}else{if(ce.validations["errorselector"]=="helpText"){var dv=dF.parent();var dD=dv.find(".help-block");if(dD.length==0){dv=at(cs+"_cont");dD=dv.find(".help-block");if(dD.length>0){dD.hide()}}else{dD.hide()}dv.addClass("has-success");dv.removeClass("has-error")}}}else{t(dF[0],ce.type)}aP(ca.callbacks,"modelChanged",[ce,dF]);if(!d(ce.copyto)){var dw=ce.copyto.split(",");for(var du in dw){var dE="";if(cs.lastIndexOf("['")!=-1){dE=cs.substring(0,cs.lastIndexOf("['"));dE+="['"+dw[du]+"']"}else{dE=dw[du]}if(dF.val()){$('[name="'+dE+'"]').val(dF.val())}}}if(ca.__ishelper!==undefined){if(ca.resetStartOnModelChange!==undefined&&ca.resetStartOnModelChange&&ca.crudop!==undefined){ca.crudop["start"]=0}var dA=at(ca.id).serializeObject(ca.name);B({schemaName:ca.schemaName,op:ca.crudopName},ca.defviewerId,true,true,dA)}if($(dF).attr("ftype")&&$(dF).attr("ftype")=="base64"&&$(dF).attr("type")=="file"){var dz=new FileReader();dz.onloadend=function(dG){return function(){dG.data=this.result}}(dF[0]);dz.readAsDataURL(dF[0].files[0])}}}(cS,df,bW,c3);var c4="change";var c2=false;if(!cS.noevents){if(cS.events[c4]===undefined){cS.events[c4]=[];cS.events[c4][0]=b5}else{cS.events[c4].push(b5)}if(b1&&cS.dateConfig){var cG=function(ce,ca,cs,cc){return function(dx,dw){var dt=w;if(dx.attr("faug-date-format")){dt=dx.attr("faug-date-format")}var dv=!dx.hasClass("faug-date");var du=!dx.val()?aG.formatDate(null,dt):dx.val();if(dx.attr("faug-date-default")!=="val"){du=undefined}aG.configureDateTimePicker(dx,ce.dateConfig,a6,dw,dt,du,dv)}}(cS,df,bW,c3);c4="default";if(cS.events[c4]===undefined){cS.events[c4]=[];cS.events[c4][0]=cG}else{cS.events[c4].push(cG)}}else{if(b1){var cG=function(ce,ca,cs,cc){return function(dx,dw){var dt=w;if(dx.attr("faug-date-format")){dt=dx.attr("faug-date-format")}var dv=!dx.hasClass("faug-date");var du=!dx.val()?aG.formatDate(null,dt):dx.val();if(dx.attr("faug-date-default")!=="val"){du=undefined}aG.decorateDateTimePicker(dx,dt,du,dv)}}(cS,df,bW,c3);c4="default";if(cS.events[c4]===undefined){cS.events[c4]=[];cS.events[c4][0]=cG}else{cS.events[c4].push(cG)}}}if((cS.templateFile||cS.genericTemplateFile)&&cS["enum"]&&cS["enum"].length>0){c2=true;var cd=function(ce,du,ca,dt,cc,cs){return function(dH,dv){var dB=ce.hasOwnProperty("default")?ce["default"]:null;if(d(cc)){cc=dB}var dE=ce.valueAssign;if(!y("Array",ce.valueAssign)&&dE){dE=[ce.valueAssign]}if(!dE){dE=[]}for(var dz=0;dz<dE.length;dz++){var dw=dE[dz];if(dw){if(cs&&dw.fromData){cc=cs[dw.fromData]}else{if(dw.fromVar){cc=o[dw.fromVar]}else{if(dw.fromRoute){cc=o[n][dw.fromRoute]}else{cc=o[dw]}}}}}var dD={};for(var dy in ce.vars){if(ce.vars.hasOwnProperty(dy)){var dx=P(ce.vars[dy],dH);if(dx[0]){dD[dy]=dx[1]}}}var dC=ce.templateFile?"templateFile":"genericTemplateFile";var dF=ca.__ishelper!==undefined?ca.id:ca.form.id;var dG={isTransient:ce["transient"]===true,elName:du,rows:ce["enum"],selectedVal:cc,details:ca,vars:dD};var dA=aO(ce[dC],dG);Faug.byId(du+"_cont").append(dA);ap(undefined,ca,dF,du,true)}}(cS,bW,df,df.__ishelper!==undefined?df.id:df.form.id,cQ,dm);c4="defaultOnce";if(cS.events[c4]===undefined){cS.events[c4]=[];cS.events[c4][0]=cd}else{cS.events[c4].push(cd)}}}bQ[df.name][bW]=cS.events;if(U[df.name]){U[df.name][bW]=""}cW=bU;if(cS.required==true){cU+=" required";cv+=" required";cW.required=true}cU+=" faug-"+cS.type+"-type";cW["faug-data-type"]=cS.type;cw.id=bW+"_cont";if(cS.type==("boolean")){return be("select",[cm,cv,cw],[db,dn,dq],[bY,cz,cC],[cM,cU,cW],cS,[cQ,dm],b6,cR,cD,cV,true,[["false"],["true"]])}else{if(cS.hasOwnProperty("enum")){var cy=null;if(y("Array",cS["enum"])&&cS["enum"].length>0){cy=cS["enum"]}else{if(y("String",cS["enum"])){cy=null;var da=window[cS["enum"]];if(typeof da==="function"){cy=da()}else{cy=da}}}if(c2){cy=[]}return be("select",[cm,cv,cw],[db,dn,dq],[bY,cz,cC],[cM,cU,cW],cS,[cQ,dm],b6,cR,cD,cV,true,cy)}else{if(cS.hasOwnProperty("ui")&&cS.ui=="textarea"){var b4=cS.hasOwnProperty("default")?cS["default"]:null;if(d(ch)){ch=b4}var cO=cS.attrAssign;if(!y("Array",cS.attrAssign)&&cO){cO=[cS.attrAssign]}if(!cO){cO=[]}for(var cB=0;cB<cO.length;cB++){var cr=cO[cB];if(cr&&cr.to){if(cr.fromVar){cW[cr.to]=o[cr.fromVar]}else{if(cr.fromRoute){cW[cr.to]=o[n][cr.fromRoute]}else{if(dm&&cr.fromData){cW[cr.to]=dm[cr.fromData]}}}}}var cT=cS.valueAssign;if(!y("Array",cS.valueAssign)&&cT){cT=[cS.valueAssign]}if(!cT){cT=[]}for(var cB=0;cB<cT.length;cB++){var cK=cT[cB];if(cK){if(dm&&cK.fromData){ch=dm[cK.fromData]}else{if(cK.fromVar){ch=o[cK.fromVar]}else{if(cK.fromRoute){ch=o[n][cK.fromRoute]}else{ch=o[cK]}}}}}return be("textarea",[cm,cv,cw],[db,dn,dq],[bY,cz,cC],[cM,cU,cW],cS,[ch,dm],b6,cR,cD,cV)}else{var ds=cS.ui;if(ds===undefined||ds==null){ds="text"}if(cS.type=="file"){M[df.name]=true;ds="file"}else{if(cS.type=="fileasbase64"){ds="file";cW.ftype="base64"}else{if(cS.type=="url"){ds="url";cW.ftype="url"}else{if(cS.type=="email"){ds="email";cW.ftype="email"}else{if(cS.type=="number"){}}}}}cW.type=ds;var b4=(!b1&&cS.hasOwnProperty("default"))?cS["default"]:null;if(d(ch)){ch=b4}var cO=cS.attrAssign;if(!y("Array",cS.attrAssign)&&cO){cO=[cS.attrAssign]}if(!cO){cO=[]}for(var cB=0;cB<cO.length;cB++){var cr=cO[cB];if(cr&&cr.to){if(cr.fromVar){cW[cr.to]=o[cr.fromVar]}else{if(cr.fromRoute){cW[cr.to]=o[n][cr.fromRoute]}else{if(dm&&cr.fromData){cW[cr.to]=dm[cr.fromData]}}}}}var cT=cS.valueAssign;if(!y("Array",cS.valueAssign)&&cT){cT=[cS.valueAssign]}if(!cT){cT=[]}for(var cB=0;cB<cT.length;cB++){var cK=cT[cB];if(cK){if(dm&&cK.fromData){ch=dm[cK.fromData]}else{if(cK.fromVar){ch=o[cK.fromVar]}else{if(cK.fromRoute){ch=o[n][cK.fromRoute]}else{ch=o[cK]}}}}}cW.value=ch;cS.ui=cS.ui?cS.ui:ds;return be("input",[cm,cv,cw],[db,dn,dq],[bY,cz,cC],[cM,cU,cW],cS,null,b6,cR,cD,cV)}}}}else{if(cS.type=="object"){if(cS.condition){var dk=I(cS.condition,[df,cS,dd]);if(dk.valid&&dk.result===false){return""}}if(cS.hasOwnProperty("properties")){if(!bW&&cS.hasOwnProperty("name")){if(!bW){bW=cS.name}else{bW+="['"+cS.name+"']"}}var ck="";if(bW==""){bW=df.name}ck=bW+"_cont";var dr=dd==null?{}:dd;var cp="";if(cS.hasOwnProperty("section")){cp=aw("h4",cS.custom["headerlb"],"",null,null,cS.section,true,false,false,null,null)}var b3=true;if(cS.hasOwnProperty("show")){b3=cS.show}var cm="",cv="form-group clearfix",cw={id:ck},ct;if(!b3){cm+="display:none;"}var de=bg(cS.custom,cm,cv,cw,ct);cm=de[0];cv=de[1];cw=de[2];ct=de[3];ct=q(ct,"div");if(dd!=null&&cS.editMinimize!==undefined&&cS.editMinimize){cm+=";display:none;";if(!U[df.name]){U[df.name]={};ba[df.name]={}}ba[df.name][bW]={}}var cu="";if(bW.indexOf("[")!=-1){cu=bW.substring(0,bW.lastIndexOf("["))}var c5=cp;for(var c0 in cS.properties){if(cS.properties.hasOwnProperty(c0)){var cn=bW;if(!cn||cn==""){cn=c0}else{cn+="['"+c0+"']"}cj=cj&&cS.hasOwnProperty("isSpan")&&cS.isSpan;if(cS.hasOwnProperty("nolabel")&&cS.nolabel){cR=false}var dg=cS.properties[c0];var dh=aC(cS,df,dg,cn,[{top_level_schema_name:cu}],[dr[c0],dr],cj,cR,c0,b6);if(dg.groupMarker===true){dh+='<div class="clearfix"/>'}c5+=dh}}return aw(ct,null,cm,cv,cw,c5,true)}}else{if(cS.type=="array"){if(cS.condition){var dk=I(cS.condition,[df,cS,dd]);if(dk.valid&&dk.result===false){return""}}if(cS.hasOwnProperty("items")){if(cS.custom===undefined){cS.custom={}}if(cS.items.custom===undefined){cS.items.custom={}}var cn=bW;if(!cn||cn==""){cn=""}if(!A.hasOwnProperty(cn)){A[cn]=0}bO[cn]=cS.items;var dr=dd==null?[]:dd;var cA=false;if(cS.initialentries&&(dr==null||dr.length==0)){dr=[];for(var cB=0;cB<cS.initialentries;cB++){dr.push(null)}}if(dr.length>A[cn]){rvalue=dr[A[cn]]}var cp="";var cV=cJ.substring(0,1).toUpperCase()+cJ.substring(1);if(cS.hasOwnProperty("display")){cV=cS.display}var b3=true;if(cS.hasOwnProperty("show")){b3=cS.show}var cm="border:1px dotted black;",cv="form-group clearfix",cw={id:cn+"_cont"},ct;var de=bg(cS.custom,cm,cv,cw,ct);cm=de[0];cv=de[1];cw=de[2];ct=de[3];if(!b3){cm+="display:none;"}ct=q(ct,"div");if(cS.nolabel===false){if(cS.hasOwnProperty("section")){cp=aw("h4",cS.custom["headerlb"],"margin-top:10px;display:inline-block;",null,null,cS.section,true,false,false,null,null)}else{cp=aw("b",cS.custom["headerlb"],"margin-top:10px;display:inline-block;",null,null,cV,true,false,false,null,null)}}var di="";if(cS.noaddbutton===false){if(cS.custom["addButton"]===undefined){cS.custom["addButton"]={}}if(cS.custom["addButton"]["custom"]===undefined){cS.custom["addButton"]["custom"]={}}cS.custom["addButton"]["custom"]["attrpos"]="append";var co="Add";if(cS.custom["addButton"]["text"]){co=cS.custom["addButton"]["text"]}if(cS.custom["addButton"]["html"]){co=cS.custom["addButton"]["html"]}di=be("button",undefined,undefined,undefined,["float:right","faug-comp-add-button",{onclick:"Faug.plusminuslistfunc(event, '"+df.name+"',this, true);return false;",list_value_cls:cn}],cS.custom["addButton"],co,b6,false,false,null,false,null,true)}var cl="";if(cS.norembutton===false){if(cS.custom["remButton"]===undefined){cS.custom["remButton"]={}}if(cS.custom["remButton"]["custom"]===undefined){cS.custom["remButton"]["custom"]={}}cS.custom["remButton"]["custom"]["attrpos"]="append";var co="Remove";if(cS.custom["remButton"]["text"]){co=cS.custom["remButton"]["text"]}if(cS.custom["remButton"]["html"]){co=cS.custom["remButton"]["html"]}cl=be("button",undefined,undefined,undefined,["float:right","faug-comp-remove-button",{onclick:"Faug.plusminuslistfunc(event, '"+df.name+"',this, false);return false;",list_value_cls:cn}],cS.custom["remButton"],co,b6,false,false,null,false,null,true)}var c5=aw("div",cS.custom["header"],"",null,null,cp+cl+di,true,false,false,null,null);var cR=cS.items.nolabel==undefined?true:!cS.items.nolabel;if(dr.length>0){cA=true;if(cS.items.callbacks&&(cS.items.callbacks["addItem"]||cS.items.callbacks["removeItem"])){bJ[df.name][bW]=cS.items}var cf,b7="",cg="form-group clearfix",ci="";var de=bg(cS.items.pCustom,b7,cg,ci,cf);b7=de[0];cg=de[1];ci=de[2];cf=de[3];cf=q(cf,"div");var cE="div";if(cS.items.custom!==undefined){cE=cS.items.custom["el"]}if(cE===undefined||cE===null||cE===""){cE="div"}var cb=dr.length;if(cb>20){if(cS.maxobjects!==undefined){cb=cS.maxobjects}else{cb=20}}for(var cZ=0;cZ<cb;cZ++){var cF=cn+"["+cZ+"]";A[cn]=cZ;var cH="";var cx="",cX="";if(cS.items.itemrembutton===true){if(cS.items.custom["remButton"]===undefined){cS.items.custom["remButton"]={}}if(cS.items.custom["remButton"]["custom"]===undefined){cS.items.custom["remButton"]["custom"]={}}cS.items.custom["remButton"]["custom"]["attrpos"]="append";var co="Remove";if(cS.items.custom["remButton"]["text"]){co=cS.items.custom["remButton"]["text"]}if(cS.items.custom["remButton"]["html"]){co=cS.items.custom["remButton"]["html"]}cX=be("button",undefined,undefined,undefined,["float:right","faug-comp-remove-button",{onclick:"Faug.plusminuslistfunc(event, '"+df.name+"',this, false);return false;",list_value_cls:cn}],cS.items.custom["remButton"],co,b6,false,false,null,false,null,true)}if(cS.items.nominmaxbutton===false){if(dr[cZ]){if(cS.items.summaryTemplate){var c8=(d(cS.summaryTemplateDynamic)||cS.summaryTemplateDynamic===true)?true:false;cx+=bd(cS.items.summaryTemplate,dr[cZ],c8)}else{if(cS.items.summaryTemplateFunc){var dk=I(cS.items.summaryTemplateFunc,[dr[cZ]]);if(dk.valid){cx+=dk.result}}}}var b2="display:none;";if(dd!=null&&cS.items.editMinimize!==undefined&&cS.items.editMinimize){b2=""}cx=aw("span",cS.items.custom["minlabel"],b2,null,null,cx,true,false,false,null,null);if(cS.custom["minmaxbutton"]===undefined){cS.custom["minmaxbutton"]={}}if(cS.custom["minmaxbutton"]["custom"]===undefined){cS.custom["minmaxbutton"]["custom"]={}}cS.custom["minmaxbutton"]["custom"]["attrpos"]="append";var bV=ad(cF,"'");var b8=ad(cn,"'");var c6={onclick:"Faug.showHideGroupedEntity(event, this,'"+bV+"','"+b8+"','"+df.name+"');return false;"};c6["faug-comp-min-state"]=cS.custom["minmaxbutton"]["custom"]["faug-comp-min-state"];c6["faug-comp-max-state"]=cS.custom["minmaxbutton"]["custom"]["faug-comp-max-state"];if(!c6["faug-comp-min-state"]){c6["faug-comp-min-state"]="-"}if(!c6["faug-comp-max-state"]){c6["faug-comp-max-state"]="+"}var dj=c6["faug-comp-min-state"],cN="faug-comp-min-button faug-comp-min-state";if(dd!=null&&cS.items.editMinimize!==undefined&&cS.items.editMinimize){dj=c6["faug-comp-max-state"];cN="faug-comp-max-button faug-comp-max-state"}cx+=aw("button",cS.items.custom["minmaxbutton"],"float:right",cN,c6,dj,true)}cH+=aw(cE,cS.items.custom,null,"clearfix",null,cX+cx,true,false,false,null,null);var dp=aC(cS.items,df,cS.items,cF,[{top_level_schema_name:cn}],[dr[cZ],dr],false,cR,cI,b6);if(cS.items.groupMarker===true){dp+='<div class="clearfix"/>'}c5+='<div class="'+cg+'" style="'+b7+'" '+ci+">"+cH+dp+"</div>"}if(dr.length>cb){var c1=new Date().getTime();bm[c1]=dr;var b0=cn;b0=b0.replace(/\[/g,"");b0=b0.replace(/\]/g,".");b0=b0.replace(/'/g,"");c5+='<a class="faug-load-more" href="#" posref="'+b0+'" schname="'+df.name+'" ident="'+c1+'" total="'+dr.length+'" size="'+cb+'" current="'+cb+'" list_value_cls="'+cn+'" onclick="Faug.plusminuslistfuncLoadMore(event, \''+df.name+"',this, false);return false;\">Load More...</a>"}}return aw(ct,null,cm,cv,cw,c5,true)}}else{if(cS.type=="marray"){if(cS.condition){var dk=I(cS.condition,[df,cS,dd]);if(dk.valid&&dk.result===false){return""}}if(cS.hasOwnProperty("items")){var cn=bW;if(!cn||cn==""){cn=""}if(!A.hasOwnProperty(cn)){A[cn]=0}bO[cn]=cS.items;var dr=dd==null?{}:dd;var cp="";var cV=cJ.substring(0,1).toUpperCase()+cJ.substring(1);if(cS.hasOwnProperty("display")){cV=cS.display}var b3=true;if(cS.hasOwnProperty("show")){b3=cS.show}var cm="border:1px dotted black;",cv="form-group clearfix",cw={id:cn+"_cont"},ct;var de=bg(cS.custom,cm,cv,cw,ct);cm=de[0];cv=de[1];cw=de[2];ct=de[3];if(!b3){cm+="display:none;"}if(cS.nolabel===false){if(cS.hasOwnProperty("section")){cp=aw("h4",cS.custom["headerlb"],"margin-top:10px;display:inline-block;",null,null,cS.section,true,false,false,null,null)}else{cp=aw("b",cS.custom["headerlb"],"margin-top:10px;display:inline-block;",null,null,cV,true,false,false,null,null)}}var di="";if(cS.noaddbutton===false){if(cS.custom["addButton"]===undefined){cS.custom["addButton"]={}}if(cS.custom["addButton"]["custom"]===undefined){cS.custom["addButton"]["custom"]={}}cS.custom["addButton"]["custom"]["attrpos"]="append";var co="Add";if(cS.custom["addButton"]["text"]){co=cS.custom["addButton"]["text"]}if(cS.custom["addButton"]["html"]){co=cS.custom["addButton"]["html"]}di=be("button",undefined,undefined,undefined,["float:right","faug-comp-add-button",{onclick:"Faug.plusminuslistfunc(event, '"+df.name+"',this, true);return false;",list_value_cls:cn}],cS.custom["addButton"],co,b6,false,false,null,false,null,true)}var cl="";if(cS.norembutton===false){if(cS.custom["remButton"]===undefined){cS.custom["remButton"]={}}if(cS.custom["remButton"]["custom"]===undefined){cS.custom["remButton"]["custom"]={}}cS.custom["remButton"]["custom"]["attrpos"]="append";var co="Remove";if(cS.custom["remButton"]["text"]){co=cS.custom["remButton"]["text"]}if(cS.custom["remButton"]["html"]){co=cS.custom["remButton"]["html"]}cl=be("button",undefined,undefined,undefined,["float:right","faug-comp-remove-button",{onclick:"Faug.plusminuslistfunc(event, '"+df.name+"',this, false);return false;",list_value_cls:cn}],cS.custom["remButton"],co,b6,false,false,null,false,null,true)}var c5=aw("div",cS.custom["header"],"",null,null,cp+cl+di,true,false,false,null,null);var bZ=cS.items.isSpan==undefined?false:cS.items.isSpan;var cR=cS.items.nolabel==undefined?true:!cS.items.nolabel;var dg=cS.items.properties.value;var dc=cS.items.properties.key;var cf,b7="",cg="form-group",ci="";var de=bg(cS.items.pCustom,b7,cg,ci,cf);b7=de[0];cg=de[1];ci=de[2];cf=de[3];var cE="div";if(cS.items.custom!==undefined){cE=cS.items.custom["el"]}if(cE===undefined||cE===null||cE===""){cE="div"}if(dg.type!="object"){bO[cn].showMinMax=false}var cq=0;for(var c0 in dr){var cF=cn+"["+cq+"]";if(dr.hasOwnProperty(c0)){var cx="";if(cS.items.itemrembutton===true){if(cS.items.custom["remButton"]===undefined){cS.items.custom["remButton"]={}}if(cS.items.custom["remButton"]["custom"]===undefined){cS.items.custom["remButton"]["custom"]={}}cS.items.custom["remButton"]["custom"]["attrpos"]="append";var co="Remove";if(cS.items.custom["remButton"]["text"]){co=cS.items.custom["remButton"]["text"]}if(cS.custom["remButton"]["html"]){co=cS.items.custom["remButton"]["html"]}cx=be("button",undefined,undefined,undefined,["float:right","faug-comp-remove-button",{onclick:"Faug.plusminuslistfunc(event, '"+df.name+"',this, false);return false;",list_value_cls:cn}],cS.items.custom["remButton"],co,b6,false,false,null,false,null,true)}if(cS.items.nominmaxbutton===false){if(dr[c0]){if(cS.items.summaryTemplate){var c8=(d(cS.summaryTemplateDynamic)||cS.summaryTemplateDynamic===true)?true:false;cx+=bd(cS.items.summaryTemplate,dr[c0],c8)}else{if(cS.items.summaryTemplateFunc){var dk=I(cS.items.summaryTemplateFunc,[dr[c0]]);if(dk.valid){cx+=dk.result}}}}var b2="display:none;";if(dd!=null&&cS.items.editMinimize!==undefined&&cS.items.editMinimize){b2=""}cx=aw("span",cS.items.custom["minlabel"],b2,null,null,cx,true,false,false,null,null);if(cS.custom["minmaxbutton"]===undefined){cS.custom["minmaxbutton"]={}}if(cS.custom["minmaxbutton"]["custom"]===undefined){cS.custom["minmaxbutton"]["custom"]={}}cS.custom["minmaxbutton"]["custom"]["attrpos"]="append";if(cS.items.custom["minmaxbutton"]===undefined){cS.items.custom["minmaxbutton"]={}}if(cS.items.custom["minmaxbutton"]["custom"]===undefined){cS.items.custom["minmaxbutton"]["custom"]={}}cS.items.custom["minmaxbutton"]["custom"]["attrpos"]="append";var bV=ad(cF,"'");var b8=ad(cn,"'");var c6={onclick:"Faug.showHideGroupedEntity(event, this,'"+bV+"','"+b8+"','"+df.name+"');return false;"};c6["faug-comp-min-state"]=cS.custom["minmaxbutton"]["custom"]["faug-comp-min-state"];c6["faug-comp-max-state"]=cS.custom["minmaxbutton"]["custom"]["faug-comp-max-state"];if(!c6["faug-comp-min-state"]){c6["faug-comp-min-state"]="-"}if(!c6["faug-comp-max-state"]){c6["faug-comp-max-state"]="+"}var dj=c6["faug-comp-min-state"],cN="faug-comp-min-button faug-comp-min-state";if(dd!=null&&cS.items.editMinimize!==undefined&&cS.items.editMinimize){dj=c6["faug-comp-max-state"];cN="faug-comp-max-button faug-comp-max-state"}cx+=aw("button",cS.items.custom["minmaxbutton"],"float:right",cN,c6,dj,true)}c5+=aw(cE,cS.items.custom,"clearfix",null,null,cx,true,false,false,null,null);var cI=cn+"["+cq+"]['key']";c5+='<div class="'+cg+'" style="'+b7+'" '+ci+">"+aC(cS.items,df,dc,cI,[{orig_val_cls:cI}],[c0],bZ,cR,c0,b6);cI=cn+"["+cq+"]['value']";c5+=aC(cS.items,df,dg,cI,[{top_level_schema_name:cn}],[dr[c0],dr],bZ,cR,cI,b6)+"</div>";cq++}}A[cn]=cq;return aw(ct,null,cm,cv,cw,c5,true)}}else{if(cS.type=="map"){var cn=bW;if(!cn){cn=""}if(cS.hasOwnProperty("types")){if(cS.types.hasOwnProperty("key")&&cS.types.hasOwnProperty("value")){var c9={};c9.type="marray";c9.mtype="map";if(cS.hasOwnProperty("display")){c9.display=cS.display}if(cS.hasOwnProperty("show")){c9.show=cS.show}if(cS.hasOwnProperty("custom")){c9.custom=cS.custom}c9.items={};if(cS.types.hasOwnProperty("pCustom")){c9.items.pCustom=cS.types.pCustom}if(cS.types.hasOwnProperty("summaryTemplate")){c9.items.summaryTemplate=cS.types.summaryTemplate}if(cS.types.hasOwnProperty("summaryTemplateFunc")){c9.items.summaryTemplateFunc=cS.types.summaryTemplateFunc}if(cS.types.hasOwnProperty("custom")){c9.items.custom=cS.types.custom}c9.items.mtype="marray";c9.items.isSpan=cS.types.value.type!="object";c9.items.nolabel=cS.types.value.type!="object";c9.items.type="object";c9.items.properties={};c9.items.properties.key=cS.types.key;c9.items.properties.value=cS.types.value;if(cS.types.value.type=="object"){c9.items.properties.value.isGroup=true}c9.label=cS.label;bO[cn+"_dummymap"]=c9;return aC(c9.items,df,c9,cn,cL,cY,false,true,cJ,b6)}}}}}}}}}}this.showHideGroupedEntity=function(bU,b2,bV,b0,bY){bU.preventDefault();if($(b2).hasClass("faug-comp-min-state")){$(b2).removeClass("faug-comp-min-state");$(b2).addClass("faug-comp-max-state");at(bV+"_cont").hide();b2.innerHTML=$(b2).attr("faug-comp-max-state");if(bO[b0]["summaryTemplate"]!==undefined){var bW=at(bV+"_cont").serializeObject(bV);var bZ=(d(bO[b0]["summaryTemplateDynamic"])||bO[b0]["summaryTemplateDynamic"]===true)?true:false;$(b2).prev().html(bd(bO[b0]["summaryTemplate"],bW,bZ))}else{if(bO[b0]["summaryTemplateFunc"]){var bW=at(bV+"_cont").serializeObject(bV);var bX=I(bO[b0]["summaryTemplateFunc"],[bW]);if(bX.valid){$(b2).prev().html(bX.result)}}}$(b2).prev().show()}else{$(b2).removeClass("faug-comp-max-state");$(b2).addClass("faug-comp-min-state");at(bV+"_cont").show();b2.innerHTML=$(b2).attr("faug-comp-min-state");$(b2).prev().hide();if(U[e[bY].details.name]!==undefined){for(var b1 in bQ[e[bY].details.name]){if(U[e[bY].details.name][b1]!==undefined){U[e[bY].details.name][b1]=undefined}}ba[e[bY].details.name][bV]=undefined}ap(bV,e[bY].details,bV+"_cont")}};function al(bU,bW){var bY=true,b2=true,bX=undefined,b0="Edit",b1="Delete";if(bW!==undefined){bX=bg(bW.custom,"","list-group",{},null);if(bW.isedit){bY=bW.isedit}if(bW.isdelete){b2=bW.isdelete}if(!d(bW.editlabel)){b0=bW.editlabel}if(!d(bW.deletelabel)){b1=bW.deletelabel}}var bV=bU+"_actionMenu";at(bV).remove();var bZ='<ul id="'+bV+'" class="list-group faug-ctxt-action-menu">';if(bY){bZ+='<li class="list-group-item" faug-data-ctxt-action="Edit">'+b0+"</li>"}if(b2){bZ+='<li class="list-group-item" faug-data-ctxt-action="Delete">'+b1+"</li>"}bZ+="</ul>";$(bZ).appendTo("body");if(bX){at(bV).attr("style",bX[0]);at(bV).attr("class",bX[1])}return bV}var Q=false;this.init=function(){if(Q){return}var bU=Faug.execFunc("onInit",[]);if(!bU.valid){console.log("No onInit method found to bootstrap")}$(document).on("click",function(bW){var bV=bW.target;if(!$(bV).hasClass("faug-ctxt-action-menu")&&!$(bV).parents().hasClass("faug-ctxt-action-menu")&&!$(bV).parents().hasClass("faug-valid-row")){$(".faug-ctxt-action-menu").hide()}$(".dropdown, .open").removeClass("open")});Q=true};this.i=this.init;this.translate=function(bU){return aG.translate(bU)};this.t=this.translate;this.l=this.translate;function bD(bX,bY,bW,bV){if(!bW){bW=at(bY).serializeObject(bV)}var bU="";if(!d(bX.serializeTemplate)){bU=bd(bX.serializeTemplate,bW)}else{bU=JSON.stringify(bW,undefined,"\t")}return bU}function aI(bW,bX,bU){bU=bU===undefined?".":bU;bX=(""+bX).split(bU);for(var bV=0;bV<bX.length;bV++){bW=bW[bX[bV]]}return bW}function br(bX,bY,bW,bU){bU=bU===undefined?".":bU;bY=(""+bY).split(bU);for(var bV=0;bV<bY.length;bV++){if(bV==bY.length-1){bX[bY[bV]]=bW}else{bX=bX[bY[bV]]}}}function an(bY,b5,b4,b1,ca,bX,b8,bU,cb){var b0=b5.details;if(bX){var b3=b8.reset;at(ca).prepend(be("button",undefined,undefined,undefined,["margin-bottom:20px;","btn-primary pull-right faug-input-reset",{onclick:"resetTheForm('"+b0.name+"');return false;"}],b3,"Reset",cb,false,false,null)+"<br/>")}if(M[b5.details.name]){var b9=b8.progress;var b7=ca+"_progressbar";var bV="progress";if(b9&&b9.custom){if(b9.custom["el"]){bV=b9.custom["el"]}}var bZ=aw(bV,b9,"","",{max:100,value:0,id:b7},null,true);at(ca).append(bZ)}var bW=b0.name+"_submit_butt"+b1;var b2={type:"submit",id:bW,value:bY};var b3=b8.submit;var b6="append";if(b3){b3.addId=true;b6=/^(append|prepend)$/i.test(b3.position)?b3.position.toLowerCase():b6}if(b6=="append"){at(ca).append(be("input",undefined,undefined,undefined,["","btn faug-input-submit",b2],b3,bY,undefined,false,false,null))}else{at(ca).prepend(be("input",undefined,undefined,undefined,["","btn faug-input-submit",b2],b3,bY,undefined,false,false,null))}at(bW).on("click",function(ce,ch,cd,cg,cf,cc){return function(cA){var cq=ce[ch];var cn=cd.details;cA.preventDefault();var cl=at(cg).serializeObject(cn.name);var cD=ch==aa?"Create":"Edit";var cu=aP(undefined,cq.callbacks["beforeOp"],[cd,cq,cl]);cl=at(cg).serializeObject(cn.name);var cm=at(cg).find(".faug-load-more");for(var cy=0;cy<cm.length;cy++){var cp=cm[cy].getAttribute("ident");var cE=cm[cy].getAttribute("total")*1;var ct=cm[cy].getAttribute("current")*1;var cs=cm[cy].getAttribute("posref");var cC=cf.attr("faug-data-rownum")*1;var cB=bm[cp];if(cs.charAt(cs.length-1)=="."){cs=cs.substr(0,cs.length-1)}cs=cs.replace(cn.name,"");for(var cx=ct;cx<cE;cx++){aI(cl,cs)[cx]=cB[cx]}}if(ba[cn.name]){var ci=cf.attr("faug-data-rownum")*1;var ck=aI(am[cn.name],ci);for(var cv in ba[cn.name]){cv=cv.replace(cn.name,"");cv=cv.replace(/\[/g,"");cv=cv.replace(/\]/g,".");cv=cv.replace(/'/g,"");if(cv.charAt(cv.length-1)=="."){cv=cv.substr(0,cv.length-1)}var cz=aI(ck,cv);br(cl,cv,cz)}}var cr=ce[ch].url;var cw=aP(undefined,cq.callbacks["onOp"],[cd,cq,cl]);if(cw.valid){aP(cq.callbacks,"afterOp",[cd,cq,null,cw.result,true]);return false}cw=aP(undefined,cq.callbacks["onValidateOp"],[cd,cq,cl,cg]);if(!cw.valid||(cw.valid&&cw.result===true)){var co=at(cg);if(co.length>0&&!G(cn.name,"")){alert("Please Fill all the mandatory fields");return false}if(!co[0].checkValidity()){alert("Please Fill all the mandatory fields");return false}}else{if(cw.valid&&cw.result!==true){return false}}var cj=bD(cd,cg,cl,cn.name);cr=bd(cr,cl);if(M[cn.name]){return bv(cg,cr,cn,function(cK,cG,cH,cI,cL,cJ,cF){return function(cN){var cM=cH.details;alert(cI[cL].successRsMsg);if(cJ==cM.form.id){if(d(cM.form.resetOnDone)||cM.form.resetOnDone===true){bp(cM.name)}}else{if(cF.isModal){at(cJ+"_tr").modal("hide")}else{at(cJ).parent().parent().hide()}}aP(cI[cL]["callbacks"],"afterOp",[cH,cI[cL],null,cN,true])}}(cf,cl,cd,ce,ch,cg,cc),cg+"_progressbar",[cf,cl,cn,ce,ch,cc])}l(true,ce[ch].meth,cr,ce[ch].contentType,cj,{},(function(cK,cH,cI,cM,cT,cL,cS,cN){if(cT[cL].successRsMsg){alert(cT[cL].successRsMsg)}if(cS==cM.form.id){if(d(cM.form.resetOnDone)||cM.form.resetOnDone===true){bp(cM.name)}}else{if(cN.isModal){at(cS+"_tr").modal("hide")}else{at(cS).parent().parent().hide()}}aP(cT[cL]["callbacks"],"afterOp",[cd,cT[cL],null,cK,true]);if(cH){var cQ=cH.attr("faug-data-crudopnm");var cP=cH.attr("faug-data-rownum")*1;var cJ=cH.data("viewerid");var cF=cM.__viewer[cJ];var cO=cT[cQ].columns;if(!cO&&e[cM.name].properties){cO=[];for(var cG in e[cM.name].properties){if(e[cM.name].properties.hasOwnProperty(cG)){if(d(e[cM.name].properties[cG]["show"])||e[cM.name].properties[cG]["show"]){var cR=cG.substring(0,1).toUpperCase()+cG.substring(1);if(e[cM.name].properties[cG]["display"]){cR=e[cM.name].properties[cG]["display"]}cO.push([cR,cG])}}}}if(y("Object",cK)){cH.html(aJ(cM,cF,cT[cQ],cK,cP,cO))}else{cH.html(aJ(cM,cF,cT[cQ],cI,cP,cO))}at(cJ).parent().find(".faug-edit-button").on("click",function(cU){return function(){ah(e[cU.name],$(this).closest(".faug-valid-row"))}}(cM));at(cJ).parent().find(".faug-delete-button").on("click",function(){return function(){by(e[cM.name],$(this).closest(".faug-valid-row"))}}(cM))}}),(function(cI,cF,cG,cH,cJ){aP(cH[cJ]["callbacks"],"failure",[cG,cH[cJ],null,cI,true])}),true,[cf,cl,cn,ce,ch,cg,cc],[cl,cd,ce,ch]);return false}}(b4,b1,b5,ca,bU,b8))}function D(bX,bY,b3,b6){var b1=bX.details.form;var b7=aa;if(b6&&bX.details.editForm&&bX.details.editForm["id"]){b1=bX.details.editForm}if(b6){b7=x}if(b3!==false){b3=true}aP(b1.callbacks,"beforeDraw",[bX]);aK[bX.details.name]=false;bQ[bX.details.name]={};bJ[bX.details.name]={};if(bX.details.hasOwnProperty("labelEleId")){at(bX.details.labelEleId).html(bX.details.label)}var b0=b1.id;aw("form",b1,"width:95%;","form",{role:"form",id:b1.id},null,false,true,true);var bZ;if(b1.custom&&b1.custom["properties"]){bZ=b1.custom["properties"]}at(b1.id).html(aC(bX,bX.details,bX,"","",[bY],false,true,"",bZ));var b5=(b1.submit===undefined||b1.submit["label"]===undefined)?"Create":b1.submit["label"];an(b5,bX,bX.crud,b7,b1.id,b1.showReset,b1,undefined,bZ);aP(b1.callbacks,"afterDraw",[bX]);var bW=aP(undefined,b1.callbacks["transformElements"],[]);if(!bW.valid){}if(b1.visibilityControl!==undefined&&b1.visibilityControl["eleId"]!==undefined){var b4=b1.visibilityControl;var bV=b4.eleId;var bU=b4.event;var b2=b4.type;if(bU===undefined||bU===null||bU==""){bU="click"}if(b2===undefined||b2===null||b2==""){b2="showhide"}at(bV).on(bU,function(b8,ca,b9){return function(cc){var cb=at(b8).is(":visible");if((b9=="showhide"||b9=="hide")&&cb){if(b1.isModal){at(b8).modal("hide")}else{at(b8).hide()}}else{if(b9=="showhide"||b9=="show"){if(b1.isModal){at(b8).modal({show:true})}else{at(b8).show()}}}I(b1.callbacks["visibilityEventCallback"],[ca,!cb])}}(b0,bX.details,b2))}if(b3){at(b0).show();if(b1.isModal){at(b0).modal({show:true})}}ap(undefined,bX.details,b1.id)}this.drawCreateForm=function(bW,bV,bU){if(e[bW]&&e[bW].details.form){D(e[bW],bV,bU,false)}};var bR=this.drawCreateForm;this.dcf=this.drawCreateForm;this.drawEditForm=function(bW,bV,bU){if(e[bW]&&e[bW].details.form){D(e[bW],bV,bU,true)}};var bI=this.drawEditForm;this.def=this.drawEditForm;var bp=function bp(bV){aK[bV]=false;bQ[bV]={};var bU;if(e[bV].details.form.custom&&e[bV].details.form.custom["properties"]){bU=e[bV].details.form.custom["properties"]}at(e[bV].details.form.id).html(aC(e[bV],e[bV].details,e[bV],"","",null,false,true,"",bU));ap(undefined,e[bV].details,e[bV].details.form.id);var bW=(e[bV].details.form.submit===undefined||e[bV].details.form.submit["label"]===undefined)?"Create":e[bV].details.form.submit["label"];an(bW,e[bV],e[bV].crud,aa,e[bV].details.form.id,e[bV].details.form.showReset,e[bV].details.form,undefined,bU);aP(e[bV].details.form.callbacks,"onReset",[]);aP(e[bV].details.form.callbacks,"afterDraw",[e[bV]]);var bX=aP(undefined,e[bV].details.form.callbacks["transformElements"],[]);if(!bX.valid){}};this.resetTheForm=bp;this.rtf=this.resetTheForm;function ar(bV,b1,b0,bX,bZ){aP(e[bV].details.editForm.callbacks,"beforeDraw",[bV,am[bV][b1],b0]);aK[bV]=true;var bU;if(e[bV].details.form.custom&&e[bV].details.form.custom["properties"]){bU=e[bV].details.form.custom["properties"]}if(e[bV].details.editForm.custom&&e[bV].details.editForm.custom["properties"]){bU=e[bV].details.editForm.custom["properties"]}at(b0).html(aC(e[bV],e[bV].details,e[bV],"","",[am[bV][b1]],false,true,"",bU));ap(undefined,e[bV].details,b0);var bW=(e[bV].details.editForm.submit===undefined||e[bV].details.editForm.submit["label"]===undefined)?"Update":e[bV].details.editForm.submit["label"];an(bW,e[bV],e[bV].crud,x,b0,bX,e[bV].details.editForm,bZ,bU);aP(e[bV].details.editForm.callbacks,"afterDraw",[e[bV],am[bV][b1],b0]);var bY=aP(undefined,e[bV].details.editForm.callbacks["transformElements"],[]);if(!bY.valid){}ap(undefined,e[bV].details,e[bV].details.editForm.id)}this.loadSchema=function(bV,bX,b1,b4,b2,bU,bW){if(e[bV]){var bZ=e[bV];var b0=null;if(bZ.details.viewer!==undefined){for(var bY=0;bY<bZ.details.viewer.length;bY++){var b3=bZ.details.viewer[bY];if(b3.id!==undefined){if(b0==null){b0=b3.id}}}}if(b1&&bZ.details.form!==undefined){D(bZ,null,b4,false)}if(b2){K(bZ,b0,bU,bW)}return}aP(null,"beforeLoad",[bV]);l(true,"GET",bX,"application/json","",{},aZ,function(b8,b5,b7){var b6=!b5?"":b5;b6+="("+b7+")";console.log("Error loading schema "+b6)},true,[b1,b4,b2,bU,bW,true],[bV,bX])};var ae=this.loadSchema;this.ls=this.loadSchema;this.onSchemaLoad=function(ca,bX,bU,b7,cc,bY,b9){e[ca.details.name]=ca;var cb=ca.details.name;if(ca.details.callbacks===undefined){ca.details.callbacks={}}var bZ=null;ca.details.__viewer={};if(ca.details.viewer!==undefined){for(var b8=0;b8<ca.details.viewer.length;b8++){var b2=ca.details.viewer[b8];if(b2.id!==undefined){if(bZ==null){bZ=b2.id}if(b2.custom===undefined){b2.custom={}}if(b2.callbacks===undefined){b2.callbacks={}}ca.details.__viewer[b2.id]=b2}}ca.details.viewer.custom={}}if(ca.details.form!==undefined&&ca.details.form.custom===undefined){ca.details.form.custom={}}if(ca.details.form!==undefined&&ca.details.form.callbacks===undefined){ca.details.form.callbacks={}}if(ca.details.editForm===undefined){ca.details.editForm={}}aP(ca.details.callbacks,"afterLoad",[cb,ca]);if(bX&&ca.details.form!==undefined){D(ca,null,bU,false)}var bV=[];if(ca.properties){for(var b1 in ca.properties){if(ca.properties.hasOwnProperty(b1)&&!d(ca.properties[b1]["optionTemplateFile"])){bV.push([ca.properties[b1]["optionTemplateFile"],"html",false,1])}else{if(ca.properties.hasOwnProperty(b1)&&!d(ca.properties[b1]["genericOptionTemplateFile"])){bV.push([ca.properties[b1]["genericOptionTemplateFile"],"html",false,2])}else{if(ca.properties.hasOwnProperty(b1)&&!d(ca.properties[b1]["templateFile"])){bV.push([ca.properties[b1]["templateFile"],"html",false,1])}else{if(ca.properties.hasOwnProperty(b1)&&!d(ca.properties[b1]["genericTemplateFile"])){bV.push([ca.properties[b1]["genericTemplateFile"],"html",false,2])}}}}}}for(var b3 in ca.crud){if(!ca.crud[b3]["callbacks"]){ca.crud[b3]["callbacks"]={}}if(ca.crud.hasOwnProperty(b3)){if(ca.crud[b3]["template"]){if(y("Object",ca.crud[b3]["template"])&&ca.crud[b3]["template"]["vars"]&&ca.crud[b3]["template"]["values"]&&ca.crud[b3]["template"]["vars"].length>0&&ca.crud[b3]["template"]["values"].length>0){var b0=ca.crud[b3]["template"];var b5=b0.vars;for(var b8=0;b8<b0.values.length;b8++){var b4=b0.values[b8][0];var b6=b4.length==b5.length;if(b6){bV.push([b0.values[b8][1],"html",false,0])}}}else{bV.push([ca.crud[b3]["template"],"html",false,0])}}}}for(var b3 in ca.crud){if(!ca.crud.hasOwnProperty(b3)){continue}var bW=ca.crud[b3]["callbacksRef"];if(bW&&ca.crud[bW]&&ca.crud[bW]["callbacks"]){ca.crud[b3]["callbacks"]=ca.crud[bW]["callbacks"]}for(var b1 in ca.crud[b3]){if(!ca.crud[b3].hasOwnProperty(b1)){continue}var bW=ca.crud[b3][b1]["controlEventsAppend"];if(bW&&ca.crud[bW]&&ca.crud[bW][b1]["controlEvents"]){if(ca.crud[b3][b1]["controlEvents"]){ca.crud[b3][b1]["controlEvents"].push.apply(ca.crud[b3][b1]["controlEvents"],ca.crud[bW][b1]["controlEvents"])}else{ca.crud[b3][b1]["controlEvents"]=ca.crud[bW][b1]["controlEvents"]}}}}if(b9&&bV.length>0){$.fetchMultipleFiles(bV,function(cd){return function(ce){if(ce[3][0]===1||ce[3][0]===2){aD(ce[0],ce[1],{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null})}else{aD(ce[0],ce[1],{rows:null,options:null})}if(aM===true){bT[ce[0]]=[ce[1],ce[3][0]]}}}(cb)).done(function(ch,cg,ce,cd,cf){return function(){if(ce){K(ca,cg,cd,cf)}}}(ca,bZ,b7,cc,bY)).fail(function(cd){alert("Problem loading required template files")})}else{if(b7){K(ca,bZ,cc,bY)}}};var aZ=this.onSchemaLoad;this.invokeCrudOp=function(bW,b1,b2,bU,bX,bV){bU=bU?bU:true;bX=bX?bX:true;if(e[bW]){var bZ=e[bW];var b0=bV;if(bZ.details.viewer!==undefined){for(var bY=0;bY<bZ.details.viewer.length;bY++){var b4=bZ.details.viewer[bY];if(b4.id!==undefined){if(!b0){b0=b4.id}}}}var b3=b2;if(!b2&&e[bW]["defaultOp"]!==undefined){b3=e[bW]["defaultOp"]}if(!b3){b3=a7}if(e[bW].crud[b3]!==undefined){if(e[bW].crud[b3]["viewerId"]!==undefined){b0=e[bW].crud[b3]["viewerId"]}if(b0!=null&&e[bW].details.__viewer[b0]!==undefined){if(b1){e[bW].crud[b3]["transientVars"]=b1}B({schemaName:e[bW].details.name,op:b3},b0,bU,bX)}}}};this.ic=this.invokeCrudOp;function K(bY,bX,bV,bW){var bU=a7;if(bY.defaultOp!==undefined){bU=bY.defaultOp}if(bY.crud[bU]!==undefined){if(bY.crud[bU]["viewerId"]!==undefined){bX=bY.crud[bU]["viewerId"]}if(bX!=null&&bY.details.__viewer[bX]!==undefined){B({schemaName:bY.details.name,op:bU},bX,bV,bW)}}}function aJ(b1,bU,bV,bZ,b5,b4){var b2="",bW="",b3=-1,b7=-1;if(bU.editButton!==undefined&&bU.editButton["colNum"]>0){b2=aw("button",bU.editButton,"","faug-edit-button",{},"Edit",true);b3=bU.editButton["colNum"]}if(bU.deleteButton!==undefined&&bU.deleteButton["colNum"]>0){bW=aw("button",bU.deleteButton,"","faug-delete-button",{},"Delete",true);b7=bU.deleteButton["colNum"]}var b0="";for(var bY=0;bY<b4.length;bY++){if(bY+1==b3){b0+=aw("td",bU.custom["td"],"","",{},b2,true)}else{if(bY+1==b7){b0+=aw("td",bU.custom["td"],"","",{},bW,true)}else{var b6=bZ[b4[bY][1]];var bX=aP(undefined,bV.callbacks.viewerColumnDataTf,[bZ,b5,bY,bV]);if(bX.valid&&bX.result!==undefined){b6=bX.result}else{if(b4[bY].length==3&&!d(b4[bY][2])){bX=I(b4[bY][2],[bZ,b4[bY][1]]);if(bX.valid&&bX.result!==undefined){b6=bX.result}}}b0+=aw("td",bU.custom["td"],"","",{},b6,true)}}}return b0}function h(bZ,bV,b5){var b6,b0=true;var bW=bV[0];var b3=bV[1];var b1=bW.indexOf("constant:")==0;var bU=bW=="value";var b2=bW=="gvar";var b7=bW=="data";var b4=bW=="route";if(!bZ||bZ.length==0||b1||bU||b2||b7||b4){var bY=u(bZ);if(b2){b6=o[bV[1]];if(b6&&b5){b6=bd(b5,{value:b6},false)}return[true,b6]}else{if(b4){b6=o[n][bV[1]];if(b6&&b5){b6=bd(b5,{value:b6},false)}return[true,b6]}else{if(b7&&bY){b6=bY[bV[1]];if(b6&&b5){b6=bd(b5,{value:b6},false)}return[true,b6]}else{if(b1){var bX=bW.substring(9);if(bX=="undefined"){return[true,undefined]}else{if(bX=="null"){return[true,null]}else{if(bX=="true"){return[true,true]}else{if(bX=="false"){return[true,false]}else{if(b5){b6=bd(b5,{value:bX},false)}return[true,b6]}}}}}else{if(bV.length>1){b6=bV[1];if(bV[1]&&b5){b6=bd(b5,{value:b6},false)}return[true,b6]}}}}}return[false]}if(b3=="value"){b6=bZ.first().val()}else{if(b3=="text"){b6=bZ.first().text()}else{if(b3=="html"){b6=bZ.first().html()}else{if(b3.indexOf("a:")!=-1){b6=bZ.first().attr(b3.substring(2))}else{if(b3=="valuetrim"){b6=bZ.first().val().trim()}else{if(b3=="texttrim"){b6=bZ.first().text().trim()}else{if(b3=="htmltrim"){b6=bZ.first().html().trim()}else{b0=false}}}}}}}if(b0&&b6&&b5){b6=bd(b5,{value:b6},false)}return[b0,b6]}function P(b7,b3){if(!b7){return[false]}var bV=b7.split("@");var b6;if(bV.length>3){b6=bV[3].trim()}else{if(bV[0]=="this"&&bV.length==3){b6=bV[2].trim()}else{if(bV[0]=="parent"&&bV.length==3){b6=bV[2].trim()}}}var bY=false;if(bV[0]=="id"){var bW="#"+bV[2];b3=$(bW)}else{if(bV[0]=="parent"){b3=b3.parent()}else{if(bV[0]=="name"){var bW='[name="'+bV[2]+'"]';b3=$(bW)}else{if(bV[0]=="class"){var bW="."+bV[2];b3=$(bW)}else{if(bV[0]=="selector"){var bW=bV[2];b3=$(bW)}else{if(bV[0].indexOf("group:")==0){var bX=bV[0].split(":");if(bX.length>=5){var b5=bX[1];var b4=bX[2];var b2=bX[3];var b0=bX[4];var bZ=bX.length>5?bX[5]:"";var bU=bV[2];for(var b1=0;b1<b5;b1++){var bW=(b0=="id"?"#":"")+bU+(b1+1);if(b4=="class"&&$(bW).hasClass(b2)){bY=true;b3=$(bW);break}else{if(b4=="attr"&&(bZ!=""&&$(bW).attr(b2)==bZ)||$(bW).is("["+b2+"]")){bY=true;b3=$(bW);break}}}}}}}}}}if(!bY||(bV[0].indexOf("group:")==0&&bY)){return h(b3,bV,b6)}return[false]}function av(b2,bU,bV,b4,bX,b5,b0,b3){aP(bV.helperArea.callbacks,"beforeDraw",[bV.helperArea]);if(bV.helperArea.details===undefined||bV.helperArea.schema==="undefined"){return}var b1=bV.helperArea.details.id;if(at(b1).length>0){return}aw("form",bV.helperArea.details,"width:95%;","form",{role:"form",id:b1},null,false,false,b4!=bV.helperArea.details["parentEleId"],null,at(b4).parent());var bY=bV.helperArea.details;if(bY.callbacks==undefined){bY.callbacks={}}bY.crudopName=b5;bY.defviewerId=b0;bY.crudop=bX;bY.__ishelper=true;bY.schemaName=b2;if(bQ[bY.name]===undefined){bQ[bY.name]={}}var bZ;if(bY.custom&&bY.custom["properties"]){bZ=bY.custom["properties"]}at(b1).html(aC(bV.helperArea.schema,bY,bV.helperArea.schema,"","",[b3],false,true,"",bZ,b1));aP(bY.callbacks,"afterDraw",[bV.helperArea]);var bW=aP(undefined,bY.callbacks["transformElements"],[]);if(!bW.valid){}ap(undefined,bY,bY.id)}function r(bX,bW){var bV={};if(bX){for(var bU in bX){if(bX.hasOwnProperty(bU)){bV[bU]=bX[bU]}}}if(bW){for(var bU in bW){if(bW.hasOwnProperty(bU)){bV[bU]=bW[bU]}}}return bV}function B(b4,b5,b7,b3,bW,cp,b2){var bY=b4.schemaName;var bZ=b4.op;var cd=e[bY];var cu=cd.crud[bZ];var ct=cd.details.__viewer[b5];var b1={};var cl=cu.vars;for(var co in o){if(o.hasOwnProperty(co)){b1[co]=o[co]}}var b8={};if(!d(cl)){for(var co in cl){if(cl.hasOwnProperty(co)){var b6=P(cl[co]);if(b6[0]){b1[co]=b6[1]}}}}if(cu.transientVars){for(var co in cu.transientVars){if(cu.transientVars.hasOwnProperty(co)){b1[co]=cu.transientVars[co];b8[co]=cu.transientVars[co]}}cu.transientVars=undefined}var bV=cu.template;if(bV===undefined||bV==null||bV==""){bV=undefined}else{if(y("Object",bV)&&bV.vars&&bV.values&&bV.vars.length>0&&bV.values.length>0){var ci=bV.vars;for(var cs=0;cs<bV.values.length;cs++){var cc=bV.values[cs][0];var cb=cc.length==ci.length;for(var cq=0;cq<ci.length;cq++){cb&=bi(ci[cq],b1,cc[cq])}if(cb){bV=bV.values[cs][1];break}}if(y("Object",bV)){bV=undefined}}}if(!b2||b2.length==0){b2=at(b5);if(b2.length==0){b2=$(b5)}}if(b7){var cg=a2(ct.callbacks,cu.callbacks,"beforeDraw");aP(cg,"beforeDraw",[cd]);if(b2.length>0&&$.fn.DataTable.fnIsDataTable(b2)){b2.dataTable().fnDestroy();b2.empty()}if(b2.length>0){b2.empty();b2.parent().find(".faug-trigger-read-prev-button").remove();b2.parent().find(".faug-trigger-read-next-button").remove()}b2.off();var b0=cu.columns;var cv=b5;if(!bV&&b0){aw("table",ct,"width:100%;","table table-striped table-bordered table-hover",{id:cv},null,false,true,true,"div",null,'style="overflow-x:auto"');if(b2.find("thead").length==0){var b9="";if(!b0&&cd.properties){b0=[];for(var cn in cd.properties){if(cd.properties.hasOwnProperty(cn)){if(d(cd.properties[cn]["show"])||cd.properties[cn]["show"]){var cr=cn.substring(0,1).toUpperCase()+cn.substring(1);if(cd.properties[cn]["display"]){cr=cd.properties[cn]["display"]}b0.push([cr,cn])}}}}for(var cs=0;cs<b0.length;cs++){b9+=aw("th",ct.custom["theadtrth"],"","",{},b0[cs][0],true)}b9=aw("tr",ct.custom["theadtr"],"","",{},b9,true);b9=aw("thead",ct.custom["thead"],"","",{},b9,true);b2.append(b9)}}if(ct.helperArea!==undefined){av(bY,cd.details,ct,cv,cu,bZ,b5,bW);if(ct.helperArea["initObject"]){if(y("String",ct.helperArea["initObject"])){var cj=I(ct.helperArea["initObject"]);if(cj.valid){bW=cj.result}else{bW=at(ct.helperArea["details"]["id"]).serializeObject(ct.helperArea["details"]["name"])}}else{bW=ct.helperArea["initObject"]}ct.helperArea["initObject"]=undefined}else{bW=at(ct.helperArea["details"]["id"]).serializeObject(ct.helperArea["details"]["name"])}}if(b3){if(ct.isModal){at(cv).modal({show:true})}else{b2.show()}}if(ct.visibilityControl!==undefined&&ct.visibilityControl["eleId"]!==undefined){var ca=ct.visibilityControl;var ce=ca.eleId;var cw=ca.event;var cx=ca.type;if(cw===undefined||cw===null||cw==""){cw="click"}if(cx===undefined||cx===null||cx==""){cx="showhide"}at(ce).on(cw,function(cy,cA,cz){return function(cC){var cB=at(cy).is(":visible");if((cz=="showhide"||cz=="hide")&&cB){if(ct.isModal){at(cy).modal("hide")}else{at(cy).parent().hide()}}else{if(cz=="showhide"||cz=="show"){if(ct.isModal){at(cy).modal({show:true})}else{at(cy).parent().show()}}}I(ct.callbacks["visibilityEventCallback"],[cA,!cB])}}(cv,cd.details,cx))}}var ch=aP(undefined,cu.callbacks["beforeOp"],[cd,cu]);var bX=cu.url;if(ch.valid){bX=ch.result}var cf=r(b1,bW);var ck=cu.start===undefined?0:cu.start;var bU=cu.count===undefined?-1:cu.count;cu.start=ck;cu.count=bU;cf.start=ck;cf.count=bU;bX=bd(bX,cf);var cm=cu.content;if(cu.meth!="GET"&&cm){if(bW){cm=JSON.stringify(bW)}cm=bd(cm,b1)}l(true,cu.meth,bX,cu.contentType,cm,{},(function(c8,cQ,cW,cD,cH,c9,cK,cN,cM,cR){var c6=cW.details.__viewer[cN];var c4=c8;if(c9.dataRef){c4=aI(c8,c9.dataRef)}var cB=y("Array",c4);if(c9.storeAs!==undefined){if(y("Object",c9.storeAs)&&c9.storeAs["name"]){if(cB&&c9.storeAs["key"]){for(var c1=0;c1<c4.length;c1++){if(!a[c9.storeAs["name"]]){br(a,c9.storeAs["name"],{})}br(a,c9.storeAs["name"]+"."+c8[c1][c9.storeAs["key"]],c4[c1])}}else{if(c4[c9.storeAs["key"]]){br(a,c9.storeAs["name"]+"."+c9.storeAs["key"],c4)}else{br(a,c9.storeAs["name"],c4)}}}else{if(y("String",c9.storeAs)){br(a,c9.storeAs,c4)}}}am[cW.details.name]=c8;aP(c9.callbacks,"afterOp",[c8]);if(c9.forTemplate!==true){c4=c8}var cO=undefined;if(cM.drawSchmemaForm!==""){cO=cM.drawSchmemaForm}if(!cQ){return}o[J]=undefined;if(cO&&y("Object",c4)){bR(cO,c4)}else{if(!cD&&cH){if(cB){for(var c5=0;c5<c4.length;c5++){var cF=cW.details.name+"_inlinearea_"+c5;var cI=cW.details.name+"_inlinearea_"+c5+"_ttr";b9="";var c7=c9.callbacks["drawViewerColumns"];if(!d(c7)){var cV=aP(undefined,c9.callbacks["drawViewerColumns"],[cW,c9,c4[c5],c5]);if(cV.valid){b9+=cV.result}}else{b9+=aJ(cW.details,c6,c9,c4[c5],c5,cH)}b9=aw("tr",c6.tr,"","faug-valid-row",{id:cI,"faug-data-inlfid":cF,"faug-data-rownum":c5,"faug-data-crudopnm":bZ,"faug-data-op-col-len":cH.length,"faug-data-schemanm":cW.details.name},b9,true);cK.append(b9)}}else{for(var c5 in c4){if(c4.hasOwnProperty(c5)){var cF=cW.details.name+"_inlinearea_"+c5;var cI=cW.details.name+"_inlinearea_"+c5+"_ttr";b9="";var c7=c9.callbacks["drawViewerColumns"];if(!d(c7)){var cV=aP(undefined,c9.callbacks["drawViewerColumns"],[cW,c9,c4[c5],c5]);if(cV.valid){b9+=cV.result}}else{b9+=aJ(cW.details,c6,c9,c4[c5],c5,cH)}b9=aw("tr",c6.tr,"","faug-valid-row",{id:cI,"faug-data-inlfid":cF,"faug-data-rownum":c5,"faug-data-crudopnm":bZ,"faug-data-op-col-len":cH.length,"faug-data-schemanm":cW.details.name},b9,true);cK.append(b9)}}}var cE=cK.find(".faug-valid-row");for(var c5=0;c5<cE.length;c5++){var cG=$(cE[c5]).attr("faug-data-rownum");var cU=c5;if(typeof cG!==typeof undefined&&cG!==false){cU=cG}$(cE[c5]).data("data",aI(c4,cU))}}else{if(cD&&aA(cW.details.name,cD)){if(cp&&c4.length>0){cK.html('<ul class="dropdown-menu faug-scrollable-menu">'+ac(cD,c4,cR)+"</ul>");var cS=o[J];if(!cS){cS=c4}if(cK.length>0){var cE=cK.find(".faug-valid-row");for(var c5=0;c5<cE.length;c5++){var cI=cW.details.name+"_inlinearea_"+c5+"_ttr";$(cE[c5]).attr("id",cI);var cG=$(cE[c5]).attr("faug-data-rownum");var cU=c5;if(typeof cG!==typeof undefined&&cG!==false){cU=cG}else{$(cE[c5]).attr("faug-data-rownum",c5)}$(cE[c5]).attr("faug-data-schemanm",cW.details.name);var cP;cG=$(cE[c5]).attr("faug-data-ind-sep");if(typeof cG!==typeof undefined&&cG!==false){cP=cG}$(cE[c5]).data("data",aI(cS,cU,cP))}}if(c9.dropdownmenuItem&&c9.dropdownmenuItem["click"]){cK.on("click",".dropdown-menu, .faug-scrollable-menu li",function(da,db){return function(dc){if($(this).prop("tagName")!="LI"){return}var dk=Faug.getFaugValidRowData($(this));var dp=$(this).parent().parent();var dh=dp.attr("faug-data-ddtrgid");var dd=at(dh);if(!dh){dh=dp.attr("faug-data-ddtrgcls");dd=$(dh)}if(da.attrAssign){var de=da.attrAssign;if(!y("Array",da.attrAssign)){de=[da.attrAssign]}for(var df=0;df<de.length;df++){var dj=ab(de[df]["cond"],$(this));if(!dj){continue}if(dk&&de[df]["fromData"]){var dm=aI(dk,de[df]["fromData"]);if(de[df]["tF"]){var dg=aI(window,de[df]["tF"]);var dl=I(dg,[dn],true);if(dl.valid){dn=dl.result}}if(y("Object",de[df]["to"])&&!d(de[df]["to"]["attr"])&&!d(de[df]["to"]["selector"])){$(de[df]["to"]["selector"]).first().attr(de[df]["to"]["attr"],dn)}else{if(!d(de[df]["to"])){dd.first().attr(de[df]["to"],dn)}else{dd.first().attr(de[df]["fromData"],dn)}}}else{if(de[df]["fromVar"]){var dn=o[de[df]["fromVar"]];if(de[df]["tF"]){var dg=aI(window,de[df]["tF"]);var dl=I(dg,[dn],true);if(dl.valid){dn=dl.result}}if(y("Object",de[df]["to"])&&!d(de[df]["to"]["attr"])&&!d(de[df]["to"]["selector"])){$(de[df]["to"]["selector"]).first().attr(de[df]["to"]["attr"],dn)}else{if(!d(de[df]["to"])){dd.first().attr(de[df]["to"],dn)}else{dd.first().attr(de[df]["fromVar"],dn)}}}else{if(de[df]["fromAttr"]){var dn=$(this).attr(de[df]["fromAttr"]);if(de[df]["tF"]){var dg=aI(window,de[df]["tF"]);var dl=I(dg,[dn],true);if(dl.valid){dn=dl.result}}if(y("Object",de[df]["to"])&&!d(de[df]["to"]["attr"])&&!d(de[df]["to"]["selector"])){$(de[df]["to"]["selector"]).first().attr(de[df]["to"]["attr"],dn)}else{if(!d(de[df]["to"])){dd.first().attr(de[df]["to"],dn)}else{dd.first().attr(de[df]["fromAttr"],dn)}}}else{if(de[df]["to"]){var dn=$(this).val();if(de[df]["tF"]){var dg=aI(window,de[df]["tF"]);var dl=I(dg,[dn],true);if(dl.valid){dn=dl.result}}if(y("Object",de[df]["to"])&&!d(de[df]["to"]["attr"])&&!d(de[df]["to"]["selector"])){$(de[df]["to"]["selector"]).first().attr(de[df]["to"]["attr"],dn)}else{if(!d(de[df]["to"])){dd.first().attr(de[df]["to"],dn)}}}}}}}}if(da.valueAssign){var di=da.valueAssign;if(!y("Array",da.valueAssign)){di=[da.valueAssign]}for(var df=0;df<di.length;df++){var dj=ab(di[df]["cond"],$(this));if(!dj){continue}if(dk&&di[df]["fromData"]){var dm=aI(dk,di[df]["fromData"]);if(di[df]["tF"]){var dg=aI(window,di[df]["tF"]);var dl=I(dg,[dm],true);if(dl.valid){dm=dl.result}}if(di[df]["to"]!="value"){$(di[df]["to"]).first().val(dm)}else{dd.first().val(dm)}}else{if(di[df]["fromVar"]){var dm=o[di[df]["fromVar"]];if(de[df]["tF"]){var dg=aI(window,di[df]["tF"]);var dl=I(dg,[dm],true);if(dl.valid){dm=dl.result}}if(di[df]["to"]!="value"){$(di[df]["to"]).first().val(dm)}else{dd.first().val(dm)}}else{if(di[df]["fromAttr"]){var dm=$(this).attr(di[df]["fromAttr"]);if(di[df]["tF"]){var dg=aI(window,di[df]["tF"]);var dl=I(dg,[dm],true);if(dl.valid){dm=dl.result}}if(di[df]["to"]!="value"){$(di[df]["to"]).first().val(dm)}else{dd.first().val(dm)}}else{var dm=$(this).text();if(di[df]["tF"]){var dg=aI(window,di[df]["tF"]);var dl=I(dg,[dm],true);if(dl.valid){dm=dl.result}}if(di[df]["to"]!="value"){$(di[df]["to"]).first().val(dm)}else{dd.first().val(dm)}}}}}}if(da.crudop||da.func||da.outfunc){j(da)(dc,$(this))}dp.removeClass("open")}}(c9.dropdownmenuItem["click"],cW))}}else{if(!cp){var cy=at(c6.parentEleId);if(cy.length>0){var cA=' id="'+c6.id+'_container">';at(c6.id+"_container").remove();if(!c6.position||c6.position=="append"){cy.append("<div"+cA+ac(cD,c4,cR)+"</div>")}else{if(c6.position=="clear"){cy.html("<div"+cA+ac(cD,c4,cR)+"</div>")}else{if(c6.position=="prepend"){cy.prepend("<div"+cA+ac(cD,c4,cR)+"</div>")}}}cK=$("#"+c6.id+"_container")}else{cK.html(ac(cD,c4,cR))}var cS=o[J];if(!cS){cS=c4}if(cK.length>0){var cE=cK.find(".faug-valid-row");for(var c5=0;c5<cE.length;c5++){var cF=cW.details.name+"_inlinearea_"+c5;var cI=cW.details.name+"_inlinearea_"+c5+"_ttr";$(cE[c5]).attr("id",cI);$(cE[c5]).attr("faug-data-inlfid",cF);var cG=$(cE[c5]).attr("faug-data-rownum");var cU=c5;if(typeof cG!==typeof undefined&&cG!==false){cU=cG}else{$(cE[c5]).attr("faug-data-rownum",c5)}$(cE[c5]).attr("faug-data-crudopnm",bZ);$(cE[c5]).attr("faug-data-op-col-len",cH?cH.length:0);$(cE[c5]).attr("faug-data-schemanm",cW.details.name);var cP;cG=$(cE[c5]).attr("faug-data-ind-sep");if(typeof cG!==typeof undefined&&cG!==false){cP=cG}$(cE[c5]).data("data",aI(cS,cU,cP))}cK.find(".faug-valid-row-stateful").on("click",function(da){Faug.setPrevElement($(da.currentTarget))})}}}}else{if(cD&&aT){console.log("No template "+cD+" found for "+cW.details.name)}}}}if(cp&&cK.hasClass("dropdown")){cK.addClass("open")}var c3=cW.details.editForm["showEvent"];if(c6.editButton!==undefined&&c6.editButton["colNum"]>0){}else{if(c3=="contextmenu"||c3=="click"){var cJ=al(cN,c6.custom["actionsArea"]);var c2=at(cJ);if(c6.custom["actionsArea"]!==undefined){if(c6.custom["actionsArea"]["custom"]!==undefined&&c6.custom["actionsArea"]["custom"]["li"]!==undefined){if(c6.custom["actionsArea"]["custom"]["li"]["custom"]===undefined){c6.custom["actionsArea"]["custom"]["li"]["custom"]={}}c6.custom["actionsArea"]["custom"]["li"]["custom"]["attrpos"]="append";sca=bg(c6.custom["actionsArea"]["custom"]["li"]["custom"],"","list-group-item",{},null);c2.children().attr("style",sca[0]);c2.children().attr("class",sca[1])}}c2.attr("data-viewerid",cN);cK.on(c3,".faug-valid-row",function(da){return function(db){db.preventDefault();if(da.is(":visible")){da.hide()}else{at($(this).attr("faug-data-inlfid")+"_tr").hide();da.css("left",db.pageX);da.css("top",db.pageY);da.show();da.attr("faug-data-rownum",$(this).attr("faug-data-rownum"));da.attr("faug-data-inlfid",$(this).attr("faug-data-inlfid"));da.attr("faug-data-thistrid",$(this).attr("id"))}db.preventDefault()}}(c2));if(c3=="contextmenu"){cK.on("click",".faug-valid-row",function(da){at($(this).attr("faug-data-inlfid")+"_tr").hide();da.preventDefault()})}c2.on("click","li",function(db,da){return function(dc){if(da.is(":visible")){da.hide()}if($(this).attr("faug-data-ctxt-action")=="Edit"){ah(db,at($(this).parent().attr("faug-data-thistrid")))}else{if($(this).attr("faug-data-ctxt-action")=="Delete"){by(db,at($(this).parent().attr("faug-data-thistrid")))}}}}(cW,c2))}}var cT=false,cX=false;if((c6.isDataTable!==undefined&&c6.isDataTable)){cT=true}if(c6.serverPaginate!==undefined){cX=c6.serverPaginate}if(c9.serverPaginate!==undefined){cX=c9.serverPaginate}cK.find(".faug-valid-row").data("viewerid",cN);cK.parent().find(".faug-edit-button").on("click",function(da){return function(){ah(da,$(this).closest(".faug-valid-row"))}}(cW));cK.parent().find(".faug-delete-button").on("click",function(da){return function(){by(da,$(this).closest(".faug-valid-row"))}}(cW));if(c4.length>0){if(cT){var c0=aP(undefined,c6.dataTableConfigFunc,[c6,cN]);var cC={bDestroy:true};if(cX){cC.pagingType="simple"}if(c0.valid&&c0.result!==undefined){cC=c0.result}cK.dataTable(cC);if(cX&&at(cN+"_wrapper").find(".faug-trigger-read-prev-button").length==0){at(cN+"_wrapper").find("li.paginate_button.previous").removeClass("disabled");at(cN+"_wrapper").find("li.paginate_button.previous").addClass("faug-trigger-read-prev-button");at(cN+"_wrapper").find("li.paginate_button.next").removeClass("disabled");at(cN+"_wrapper").find("li.paginate_button.previous").addClass("faug-trigger-read-next-button")}}}if(cX){var cL=c6.defaultnextprevbuttons===false?false:true;if(!cT&&cL){cK.parent().append('<button class="faug-trigger-read-prev-button">Previous</button><button class="faug-trigger-read-next-button">Next</button>')}var cz=cT?at(cN+"_wrapper").find("li.paginate_button.previous"):cK.parent().find(".faug-trigger-read-prev-button");var cZ=cT?at(cN+"_wrapper").find("li.paginate_button.next"):cK.parent().find(".faug-trigger-read-next-button");cz.on("click",function(dc,da,db){return function(de){var dd=cW.crud[da];dd.start--;if(dd.start<0){dd.start=0;$(this).attr("disabled","disabled")}else{B({schemaName:dc,op:da},db,true,true)}}}(bY,bZ,cN));cZ.on("click",function(dd,da,db,dc){return function(df){var de=cW.crud[da];de.start++;if(de.start==0){dc.removeAttr("disabled")}B({schemaName:dd,op:da},db,true,true)}}(bY,bZ,cN,cz))}var cY=a2(c6.callbacks,c9.callbacks,"afterDraw");aP(cY,"afterDraw",[cW,c8])}),function(cF,cD,cy,cA,cE,cC){var cz=cD.details.__viewer[cC];var cB=a2(cz.callbacks,cy.callbacks,"failure");aP(cB,"failure",[cF,cD,cy,cA,cE,cC])},true,[b7,cd,bV,b0,cu,b2,b5,b4,b8],[cd,cu,bV,b2,b5])}this.templatizeSchemaTemplate=function(bU,bW,bV){var bX=ag[bU].apply(null,[{rows:bW,options:bV}]);return bX?bX:""};var ac=this.templatizeSchemaTemplate;this.tst=this.templatizeSchemaTemplate;this.templatizeSchemaPropOptionTemplate=function(bU,bV){var bW=ag[bU].apply(null,[bV]);return bW?bW:""};var aO=this.templatizeSchemaPropOptionTemplate;this.tspot=this.templatizeSchemaPropOptionTemplate;this.refreshSchemaTemplate=function(ca,bW,cb,b9,bZ,bU,bY){o[J]=undefined;var b5=ag[bW].apply(null,[{rows:cb}]);if(b5){var b0=at(b9);b0.html(b5);var b8=at(bZ).length>0?at(bZ):b0;if(b8.length>0){var bV=o[J];if(!bV){bV=cb}var b3=b8.find(".faug-valid-row");for(var b7=0;b7<b3.length;b7++){var bX=ca+"_inlinearea_"+b7;var b2=ca+"_inlinearea_"+b7+"_ttr";$(b3[b7]).attr("id",b2);$(b3[b7]).attr("faug-data-inlfid",bX);var b6=$(b3[b7]).attr("faug-data-rownum");var b1=b7;if(typeof b6!==typeof undefined&&b6!==false){b1=b6}else{$(b3[b7]).attr("faug-data-rownum",b7)}$(b3[b7]).attr("faug-data-crudopnm",bU);$(b3[b7]).attr("faug-data-op-col-len",$(b3[b7]).find("td").length);$(b3[b7]).attr("faug-data-schemanm",ca);var b4;b6=$(b3[b7]).attr("faug-data-ind-sep");if(typeof b6!==typeof undefined&&b6!==false){b4=b6}$(b3[b7]).data("data",aI(bV,b1,b4))}}if(bU&&bY){if(e[ca]){aP(e[ca]["crud"][bU]["callbacks"],bY,[e[ca],cb])}}}};var Y=this.refreshSchemaTemplate;this.rst=this.refreshSchemaTemplate;function aA(bU,bV){return ag[bV]}function aD(bW,bV,bU){if(!ag[bW]){ag[bW]=aG.templateEngine(bV,bU,true)}}this.templatize=function(bW,bV,bU){bU=bU===false?false:true;if(bU){return aG.templateEngine(bW,bV,true,bU).apply(null,[bV])}if(!ag[bW]){ag[bW]=aG.templateEngine(bW,bV,true,false)}return ag[bW].apply(null,[bV])};var bd=this.templatize;this.tz=this.templatize;this.templatizeByName=function(bV,bW,bU){return ac(bV,bW,bU)};var ak=this.templatizeByName;this.tzn=this.templatizeByName;function a2(bV,bU,bW){if(bV&&bV[bW]){return bV}if(bU&&bU[bW]){return bU}return undefined}function by(bX,bV){if(bX.crud[C]===undefined){return}var bW=bX.crud[C];var bY=bV.data("viewerid");var bU=bX.details.__viewer[bY];var b3=bV.attr("faug-data-rownum")*1;var b1=am[bX.details.name][b3];var b2=aP(undefined,bW.callbacks["beforeOp"],[bX,bW,b1]);var b0=bX.crud.d.url;if(b2.valid){b0=b2.result}var bZ=aP(undefined,bW.callbacks["onOp"],[bX,bW,b1]);if(bZ.valid){aP(bW.callbacks,"afterOp",[bX,bW,b1,bZ.result,true]);return false}var b4="Are you sure?";if(bU.deleteButton!==undefined&&bU.deleteButton["msg"]!==undefined&&bU.deleteButton["msg"]!=""){b4=bd(bU.deleteButton["msg"],b1)}aG.getDialogConfirm(b4,function(b6,b7,b5){return function(b9){if(!b9){return}var cb=b6.crud;var cc=C;var b8=JSON.stringify(b7,undefined,"\t");var ca=bd(cb[cc].url,b7);l(true,cb[cc].meth,ca,cb[cc].contentType,b8,{},(function(cd){aP(cb[cc]["callbacks"],"afterOp",[b6,cb[cc],b7,cd,true])}),(function(cd){aP(cb[cc]["callbacks"],"failure",[b6,cb[cc],b7,cd,false])}))}}(bX,b1,b0))}var aE=function(bV,bU){aG.getDialogAlert(bV,bU)};this.alertDialog=aE;this.ad=this.alertDialog;var aS=function(bV,bU){aG.getDialogConfirm(bV,bU)};this.confirmDialog=aS;this.cd=this.confirmDialog;function ah(bZ,bV){aR(true);var bU=bZ.details;var b4=bV.attr("faug-data-inlfid"),b3=bV.attr("faug-data-rownum")*1;var bW=bU.form.id;var b2=bU.form.showReset;var b1=bV.attr("faug-data-op-col-len");if(bU.editForm.isInline){bW=b4;at(bW+"_tr").remove();var b0=bW+"_tr";var bX='<form id="'+bW+'" class="form" role="form"></form>';var bY=bV.prop("tagName");if(bY.toLowerCase()=="tr"){at(bW+"_ttr").after('<tr id="'+b0+'" style="display:none;background-color:#f5f5f5"><td colspan="'+b1+'">'+bX+"</td></tr>")}else{at(bW+"_ttr").after("<"+bY+' id="'+b0+'" style="display:none;background-color:#f5f5f5">'+bX+"</"+bY+">")}at(bW+"_tr").show();b2=false}else{if(bU.editForm.isModal){bW=b4;at(bW+"_tr").remove();var b0=bW+"_tr";var bX='<div><form id="'+bW+'" class="form" role="form"></form></div>';aQ(bX,bW+"_tr","Edit "+bU.name,true,undefined,false);at(bW+"_tr").modal({show:true});at(bW+"_tr").show();b2=false}else{if(bU.editForm.create===true&&bU.editForm.form_cont){aw("form",bU.editForm,"width:95%;","form",{role:"form",id:bU.editForm.id},null,false,true,true)}}}ar(bU.name,b3,bW,b2,bV);aR(false)}function bk(b2,b7,bV,ca,b5){if(!b7||!b7.op){return}var b0=bV[1];var b1=e[b7.schemaName]["crud"][b7.op];if(!b1){return false}var bW=b0?b0.closest(".faug-valid-row"):$("");var b9=bV[0];var b6=undefined;var b4=b1.viewerId;if(!b4&&b7.viewerId){b4=b7.viewerId}if(b0&&b0.find(b4).length>0){b6=b0.find(b4)}if(b0&&b7.viewerPos=="next-relative"&&b0.next().length>0&&b0.next().find(b4).length>0){b6=b0.next().find(b4).first()}else{if(b0&&b7.viewerPos=="prev-relative"&&b0.next().length>0&&b0.prev().find(b4).length>0){b6=b0.prev().find(b4).first()}else{if(b0&&b7.viewerPos=="relative"&&b0.find(b4).length>0){b6=b0.find(b4).first()}else{if(b7.viewerPos=="absolute"&&$(b4).length>0){b6=$(b4).first()}}}}if(!b4&&e[b7.schemaName]["details"]&&e[b7.schemaName]["details"]["viewer"]&&e[b7.schemaName]["details"]["viewer"][0]){b4=e[b7.schemaName]["details"]["viewer"][0]["id"]}if(!d(b7)&&b7.related===true&&bW.length>0){var cc=bW.attr("faug-data-schemanm");var b3=bW.attr("faug-data-rownum")*1;var cd=am[cc][b3];if(!b4&&b1.inline){b4=bW.attr("faug-data-inlfid");var b8=bW.attr("faug-data-op-col-len");var bX=b4+"_tr";at(bX).remove();var bZ=bW.prop("tagName");var bU={callbacks:{},custom:{}};if(b7.viewer){bU=b7.viewer}var cb=aw("table",bU,"width:100%;","table table-striped table-bordered table-hover",{id:b4},null,true,false,false,"div");if(bZ.toLowerCase()=="tr"){bW.after('<tr id="'+bX+'" style="background-color:#f5f5f5"><td colspan="'+b8+'">'+cb+"</td></tr>")}else{bW.after("<"+bZ+' id="'+bX+'" style="background-color:#f5f5f5">'+cb+"</"+bZ+">")}e[b7.schemaName].details.__viewer[b4]=bU}if(b4){if(b9){b9.stopPropagation()}B(b7,b4,true,true,cd,false,b6);return false}}else{if(!d(b7)){if(b9){b9.stopPropagation()}if(b1.showdropdownmenu!==true){var bU={callbacks:{},custom:{}};if(!e[b7.schemaName].details.__viewer[b4]){if(b7.viewer){bU=b7.viewer}e[b7.schemaName].details.__viewer[b4]=bU}B(b7,b4,true,true,null,false,b6)}else{b4="dd_"+b7.schemaName+"_"+b7.op;if(at(b4).length>0){at(b4).remove()}var bU={callbacks:{},custom:{}};if(b7.viewer){bU=b7.viewer}e[b7.schemaName].details.__viewer[b4]=bU;if(!d(ca)){ca='" faug-data-ddtrgid="'+ca+'"'}else{ca='" faug-data-ddtrgcls="'+b5+'"'}var bY=$('<div class="dropdown" id="'+b4+ca+"></div>");b0.after(bY);bY.css({position:"absolute",bottom:0});B(b7,b4,true,true,null,true)}return false}}}this.freezeUI=function(bU,bX){if(!bX){bX=W}if(at(bX).length==0){var bV='<div style="z-index: 1000; border: none; margin: 0px; padding: 0px; width: 100%; 						height: 100%; top: 0px; left: 0px; cursor: wait; position: fixed; opacity: 0.323537741574588; 						"></div><div style="z-index: 1011; position: fixed; padding: 0px; margin: 0px; 						width: 30%; top: 40%; left: 35%; text-align: center; cursor: wait; opacity: 0.539229547863922;">'+T+"</div>";$('<div id="'+W+'">'+bV+"</div>").appendTo("body")}var bW=at(bX);if(bU){if(!bW.is(":visible")){bW.show()}bw++}else{bw--;if(bw==0){bW.hide()}}};var aR=this.freezeUI;this.fz=this.freezeUI;function bs(bV){bV.css("display","block");var bW=bV.find(".modal-dialog"),bX=($(window).height()-bW.height())/2,bU=parseInt(bW.css("marginBottom"),10);if(bX<bU){bX=bU}bW.css("margin-top",bX)}this.showModalForm=function(b0,bU,b2,b1,bX,bY,bV,b4,bW){if(bV===undefined){bV="75%"}if(!this.isN(bV)){bV="width: "+bV+";"}if(!this.isN(b4)){b4="height: "+b4+";"}var bZ="";if(b1){bZ='<button type="button" class="close" data-dismiss="modal">&times;</button>'}if(!this.isN(b2)){bZ+=b2}if(bZ!=""){bZ='<div class="modal-header">'+bZ+"</div>"}var b3="";if(bY){b3='<div class="modal-footer">'+(!this.isN(bX)?bX:"")+"</div>"}this.byId(bU).remove();$("body").append('<div id="'+bU+'" class="modal fade" role="dialog"> 					<div class="modal-dialog" style="'+bV+b4+';"> 						<div class="modal-content"> 							'+bZ+' 							<div class="modal-body clearfix">'+b0+"</div> 							"+b3+" 						</div> 					</div> 				</div>");if(bW){bs(this.byId(bU))}};var aQ=this.showModalForm;this.sm=this.showModalForm;function ap(bZ,b1,b3,b0,bV){bV=bV?bV:false;for(var b9 in bQ[b1.name]){if(!bQ[b1.name].hasOwnProperty(b9)||(bZ!==undefined&&!b9.indexOf(bZ)==0)||(U[b1.name]!==undefined&&U[b1.name][b9]!==undefined)){continue}if(b0!==undefined&&b0!=b9){continue}var b7=bQ[b1.name][b9];var b5=[];for(var b2 in b7){if(b7.hasOwnProperty(b2)){var b6=b7[b2];var bU=b2.split(",");var b8=false;for(var bX=0;bX<bU.length;bX++){if(bU[bX]=="defaultOnce"&&!bV){b5.push(b2);aH(undefined,$(document.getElementsByName(b9)[0]),b6,b9,b3,b1.name)}else{if(bU[bX]=="default"&&!bV){aH(undefined,$(document.getElementsByName(b9)[0]),b6,b9,b3,b1.name)}else{var b4=document.getElementsByName(b9);$(b4).on(bU[bX],function(ca,cd,cb,ce,cc){return function(cf){aH(cf,$(this),ca,cd,ce,cc)}}(b6,b9,bU[bX],b3,b1.name))}}}}}for(var bX=0;bX<b5.length;bX++){delete b7[b5[bX]]}}if(!b0){for(b9 in bJ[b1.name]){if(bZ&&bZ.indexOf(b9)!=0){continue}var bW=bJ[b1.name][b9];var bY=bW.callbacks;if(bY){if(bY.addItem){aP(bY,"addItem",[bW,true])}if(bY.removeItem){aP(bY,"removeItem",[bW,false])}}}}}function bh(bW,bX,bU){bU=bU===undefined?".":bU;bX=(""+bX).split(bU);for(var bV=0;bV<bX.length;bV++){if(bW.properties&&bW.properties[bX[bV]]){bW=bW.properties[bX[bV]]}else{if(bW.items&&bW.items["properties"]&&bW.items["properties"][bX[bV]]){bW=bW.items["properties"][bX[bV]]}}}return bW}function aF(ci,ch,b3,b9,cg,b4,bZ,cc){var bW=ci;if(ch.storeAs){a[ch.storeAs]=ci}var ce=ch.target;var b2=null;if(ce){if(b9!=cg){ce=b9+"['"+ch.target+"']"}b3=$(document.getElementsByName(ce)[0])}else{ce=cg}var b1=e[bZ];if(b3&&b3.length>0&&b3.prop("tagName").toLowerCase()=="select"){b2=b3.parent().attr("acvalue");bW="";if(d(b2)&&!d(ci)&&ci.length>0){}var bX=ce.substring(ce.indexOf("[")+2).replace(/\['/g,".properties.").replace(/'\]/g,"").replace(/(\[[0-9]*\])/g,"");var b7=e[bZ];b7=bh(b7,bX);if(!b2&&!isNaN(b7.defaultIndex)&&!d(ci)&&ci.length>b7.defaultIndex){b2=ci[b7.defaultIndex]}var b5={};for(var ca in b7.vars){if(b7.vars.hasOwnProperty(ca)){var ck=P(b7.vars[ca],b3);if(ck[0]){b5[ca]=ck[1]}}}var cj={isTransient:b7["transient"]===true,elName:ce,rows:ci,selectedVal:b2,details:b1.details,vars:b5};if(b7.optionTemplate){bW=bd(b7.optionTemplate,cj,false)}else{if(b7.genericOptionTemplateFile){bW=aO(b7.genericOptionTemplateFile,cj)}else{if(b7.optionTemplateFile){bW=aO(b7.optionTemplateFile,cj)}else{if(!d(ci)){for(var cb=0;cb<ci.length;cb++){var b0=ci[cb].length==1?ci[cb][0]:ci[cb][1];var b6=(ci[cb][0]==b2)?"selected":"";bW+='<option value="'+ci[cb][0]+'" '+b6+">"+b0+"</option>"}}}}}b3.html(bW);if(!b2||b2==""){b3.val(b3.find("option:first").val());b3.find("option:first").attr("selected",true)}ap(undefined,b1.details,b4,ce,true);if(ch.done!==undefined){var bY=ch.done;aH(cc,b3,bY,cg,b4,bZ)}}else{if(b3.length>0){b3.remove();b3=undefined}var b8=at(ce+"_cont");if((b3===undefined||b3.length==0)&&b8.length>0){b2=b8.attr("acvalue");var cf=b8.attr("top_level_schema_name");var bX=ce.substring(ce.indexOf("[")+2).replace(/\['/g,".properties.").replace(/'\]/g,"").replace(/(\[[0-9]*\])/g,"");var b7=e[bZ];b7=bh(b7,bX);var bU=b7["enum"];if(!b2&&!isNaN(b7.defaultIndex)&&!d(ci)&&ci.length>b7.defaultIndex){b2=ci[b7.defaultIndex]}var b5={};for(var ca in b7.vars){if(b7.vars.hasOwnProperty(ca)){var ck=P(b7.vars[ca],b3);if(ck[0]){b5[ca]=ck[1]}}}var cj={isTransient:b7["transient"]===true,elName:ce,rows:ci,selectedVal:b2,details:b1.details,vars:b5};var cd=false;if(b7.optionTemplate){bW=bd(b7.optionTemplate,{isTransient:b7["transient"]===true,elName:ce,rows:ci,selectedVal:b2,details:b1.details,vars:b5},false)}else{if(b7.genericOptionTemplateFile){bW=aO(b7.genericOptionTemplateFile,cj)}else{if(b7.optionTemplateFile){bW=aO(b7.optionTemplateFile,cj)}else{cd=true;var bV=jQuery.extend(true,{},b7);if(bV.events&&bV.events["default"]){bV.events["default"]=undefined}bV["enum"]=ci;bW=aC(b7,b1.details,bV,ce,[{top_level_schema_name:cf}],[b2],false,true,ch.target,undefined)}}}if(cd){b8.replaceWith(bW)}else{b8.append(bW)}ap(undefined,b1.details,b4,ce,true);if(ch.done!==undefined){var bY=ch.done;aH(cc,b3,bY,cg,b4,bZ)}}else{b3.val(bW);if(ch.done!==undefined){var bY=ch.done;aH(cc,b3,bY,cg,b4,bZ)}}}}function aH(cd,bV,b0,b3,b7,b1){for(var cf=0;cf<b0.length;cf++){if(!b0[cf]){continue}if(typeof b0[cf]==="function"){b0[cf](bV,cd);return}var bW=b0[cf]["type"]===undefined?null:b0[cf]["type"];if(bW=="ajax"){var ca=at(b7).serializeObject(b1);var ce=b3;if(b3.indexOf("[")!=-1){ce=b3.substring(0,b3.lastIndexOf("["));ca=at(ce+"_cont").serializeObject(ce)}if(b0[cf]["udvars"]){for(var cc in b0[cf]["udvars"]){if(b0[cf]["udvars"].hasOwnProperty(cc)){var cm=P(b0[cf]["udvars"][cc],bV);if(cm[0]&&ca[cc]===undefined){ca[cc]=cm[1]}}}}var b8=bd(b0[cf]["url"],ca);var bY="";cont=b0[cf]["content"];if(b0[cf].meth!="GET"&&cont){cont=bd(cont,ca);bY="application/json"}else{if(b0[cf].meth!="GET"){cont=JSON.stringify(ca,undefined,"\t");bY="application/json"}}l(true,b0[cf]["meth"],b8,bY,cont,{},aF,(function(cn){if(aT){alert("Cannot fetch data elements")}}),true,[b0[cf],bV,ce,b3,b7,b1,cd])}else{if(bW=="func"){var bX=b0[cf]["func"]===undefined?null:b0[cf]["func"];var bZ=b0[cf]["fromVar"]===undefined?null:b0[cf]["fromVar"];if(bZ){cl=o[bZ]}else{var b2=window[bX];var cl=null;var ce=b3;var ca;if(b3.indexOf("[")!=-1){ce=b3.substring(0,b3.lastIndexOf("["));ca=at(ce+"_cont").serializeObject(ce)}else{ca=at(b7).serializeObject(b1)}if(typeof b2==="function"){cl=b2([bV,ca])}else{cl=b2}}aF(cl,b0[cf],bV,ce,b3,b7,b1,cd)}else{if(bW=="full"){return j(b0[cf])(cd,bV)}}}var b5=b0[cf]["show"]===undefined?[]:b0[cf]["show"];var ch=b0[cf]["hide"]===undefined?[]:b0[cf]["hide"];var b6=b0[cf]["values"]===undefined?[]:b0[cf]["values"];var cg=b0[cf]["how"]===undefined?"display":b0[cf]["how"];var cb=b0[cf]["from"];if(b5.length>0){var ca=at(b7).serializeObject(b1);var ce=b3;var cj=ce;if(cj.indexOf("[")!=-1){cj=cj.substring(cj.indexOf("[")).replace(/'/g,"").replace(/\[/g,"").replace(/\]/g,".");if(cj[cj.length-1]=="."){cj=cj.substring(0,cj.length-1)}}var ci=$(document.getElementsByName(ce));var b9=bV.val();if(ci.length>1){b9=aI(ca,cj)}if(cb&&cb.length>1){var ck=P(cb,bV);if(ck[0]===true){b9=ck[1]}}for(var b4=0;b4<b5.length;b4++){var bU=ce;if(ce.indexOf("[")!=-1){bU=bU.substring(0,bU.lastIndexOf("["));bU+="['"+b5[b4]+"']"}else{bU=b5[b4]}if($.inArray(b9,b6)!==-1){if(d(cg)||cg=="display"){at(bU+"_cont").show()}else{at(bU+"_cont").removeClass(cg)}}else{if(d(cg)||cg=="display"){at(bU+"_cont").hide()}else{at(bU+"_cont").addClass(cg)}}}}if(ch.length>0){var ca=at(b7).serializeObject(b1);var ce=b3;var cj=ce;if(cj.indexOf("[")!=-1){cj=cj.substring(cj.indexOf("[")).replace(/'/g,"").replace(/\[/g,"").replace(/\]/g,".");if(cj[cj.length-1]=="."){cj=cj.substring(0,cj.length-1)}}var ci=$(document.getElementsByName(ce));var b9=bV.val();if(ci.length>1){b9=aI(ca,cj)}if(cb&&cb.length>1){var ck=P(cb,bV);if(ck[0]===true){b9=ck[1]}}for(var b4=0;b4<ch.length;b4++){var bU=ce;if(ce.indexOf("[")!=-1){bU=bU.substring(0,bU.lastIndexOf("["));bU+="['"+ch[b4]+"']"}else{bU=ch[b4]}if($.inArray(b9,b6)!==-1){if(d(cg)||cg=="display"){at(bU+"_cont").hide()}else{at(bU+"_cont").addClass(cg)}}else{if(d(cg)||cg=="display"){at(bU+"_cont").show()}else{at(bU+"_cont").removeClass(cg)}}}}}}this.setScopedVar=function(bU){o[J]=bU};this.sscv=this.setScopedVar;this.addGlobalVar=function(bV,bW,bU){if(!o[bV]||bU===undefined||bU===true){o[bV]=bW}};this.ag=this.addGlobalVar;this.getGlobalVar=function(bU){return o[bU]};this.g=this.getGlobalVar;this.getStoreVar=function(bU){return a[bU]};this.gstv=this.getStoreVar;this.addStoreVar=function(bV,bW,bU){if(!a[bV]||bU===undefined||bU===true){a[bV]=bW}};this.astv=this.addStoreVar;this.getSchema=function(bU){return e[bU]};this.gs=this.getSchema;this.getNodeValue=function(bZ,b0){var b1=b0.split(".");b0="";for(var bY=0;bY<b1.length;bY++){b0+="['"+b1[bY]+"']"}var b2=$(document.getElementsByName(bZ+b0));if(b2.length>0){var bU=b2.first().val();if(b2.attr("faug-serialize-position")){var bW=b2.attr("faug-serialize-position");if(bW=="text"){bU=b2.text()}else{if(bW=="html"){bU=b2.html()}else{if(bW!="value"){bU=b2.attr(bW)}}}var bV=b2.attr("faug-serialize-function");if(bV&&bV.trim()!==""){var bX=I(bV,[bU,b2]);if(bX.valid){bU=bX.result}}}return bU}return null};this.gnv=this.getNodeValue;this.setNodeValue=function(b0,bU,bZ){var bW=bU.split(".");bU="";for(var bV=0;bV<bW.length;bV++){bU+="['"+bW[bV]+"']"}var bY=$(document.getElementsByName(b0+bU));if(bY.length>0){if(bY.attr("faug-serialize-position")){var bX=bY.attr("faug-serialize-position");if(bX=="text"){bY.first().text(bZ)}else{if(bX=="html"){bY.first().html(bZ)}else{if(bX=="value"){bY.first().val(bZ)}else{if(bX!="function"){bY.first().attr(bX,bZ)}}}}}}return null};this.snv=this.setNodeValue;this.showNode=function(bY,bU){var bW=bU.split(".");bU="";for(var bV=0;bV<bW.length;bV++){bU+="['"+bW[bV]+"']"}var bX=$(document.getElementsByName(bY+bU+"_cont"));if(bX.length>0){return bX.show()}};this.shn=this.showNode;this.hideNode=function(bY,bU){var bW=bU.split(".");bU="";for(var bV=0;bV<bW.length;bV++){bU+="['"+bW[bV]+"']"}var bX=$(document.getElementsByName(bY+bU+"_cont"));if(bX.length>0){return bX.hide()}};this.hdn=this.hideNode;this.getNode=function(bX,bU){var bW=bU.split(".");bU="";for(var bV=0;bV<bW.length;bV++){bU+="['"+bW[bV]+"']"}return $(document.getElementsByName(bX+bU))};this.gn=this.getNode;this.getNodeContainer=function(bX,bU){var bW=bU.split(".");bU="";for(var bV=0;bV<bW.length;bV++){bU+="['"+bW[bV]+"']"}return $(document.getElementsByName(bX+bU+"_cont"))};this.gnc=this.getNodeContainer;this.getFormContainer=function(bU){return $(document.getElementById(bU+"_cont"))};this.gfc=this.getFormContainer;this.getForm=function(bU){return $(document.getElementById(bU+"_Form"))};this.gf=this.getForm;function aw(bU,b7,b1,b8,ca,b0,b6,b5,b4,b9,cb,b3){var cc="";if(!d(b7)&&!d(b7.custom)&&b7.custom["html"]!==undefined){cc=b7.custom["html"]}else{if(b1===undefined||b1===null){b1=""}if(b8===undefined||b8===null){b8=""}if(ca===undefined||ca===null){ca={}}if(b0===undefined||b0===null){b0=""}var bV=b7;var bX=bU;var bY=bg(bV?bV.custom:null,b1,b8,ca,bX);b1=bY[0];b8=bY[1];ca=bY[2];bX=bY[3];bU=q(bX,bU);cc=("<"+bU+' style="'+b1+'" class="'+b8+'" '+ca+">"+b0+"</"+bU+">");var bW=undefined;if(!d(b7)&&!d(b7.custom)){bW=b7.custom["parent"]}if(bW){cc=aw(bW.el?"div":bW.el,bW?bW:null,"","",{},cc,true)}}if(b9!==undefined&&b9!=""&&b9!==null){if(!b3){b3=""}cc="<"+b9+" "+b3+">"+cc+"</"+b9+">"}if(b6){return cc}if(b7.hasOwnProperty("create")&&b7.create){at(b7.id).remove();var cd=b7.position;var bZ=at(b7.parentEleId);if(cb!==undefined&&cb!==null&&cb.length>0){bZ=cb}if(bZ.length>0){if(cd=="prepend"){bZ.prepend(cc)}else{if(b4&&cd=="clear"){bZ.html(cc)}else{bZ.append(cc)}}}else{if(b5&&b7.isModal){var b2=b7.id+"_mdct";at(b7.id).remove();at(b2).remove();aQ(cc,b2,b7.header,true,undefined,false)}}}}this.clearSchemaActivityArea=function(b0,bU,bW){if(d(bU)){bU=true}if(d(bW)){bW=true}var bY=e[b0];if(bY==null){return}if(bY.details.form!==undefined&&bU){var bZ=bY.details.form.id;at(bZ).hide()}if(!bW||d(bY.details.viewer)||bY.details.viewer.length==0){return}for(var bV=0;bV<bY.details.viewer.length;bV++){var bX=bY.details.viewer[bV];if(at(bX.id).length==0||!$.fn.DataTable.fnIsDataTable(at(bX.id))){if(at(bX.id).length>0){at(bX.id).empty();at(bX.id).parent().hide()}continue}at(bX.id).dataTable().fnDestroy();at(bX.id).off();at(bX.id).empty();at(bX.id).parent().hide()}};function z(){$(".faug-date,.faug-datetime,.faug-time,.faug-timestamp,.faug-customdate").each(function(){var bU=w;if($(this).attr("faug-date-format")){bU=$(this).attr("faug-date-format")}var bW=!$(this).hasClass("faug-date");var bV=!$(this).val()?aG.formatDate(null,bU):$(this).val();if($(this).attr("faug-date-default")!=="val"){bV=undefined}aG.decorateDateTimePicker($(this),bU,bV,bW)})}function ax(b9,ch,ck,b0,cq){if(!ck&&A[ch]==0){return}else{if(!ck){A[ch]--;var cd=document.getElementById(ch+"_cont");cd.childNodes[cd.childNodes.length-1].remove();return}}A[ch]++;var cb=A[ch];var cn=ch+"["+cb+"]";var cm=bO[ch].isSpan==undefined?false:bO[ch].isSpan;var co=bO[ch].nolabel==undefined?true:!bO[ch].nolabel;var ca=aC(bO[ch],b9,bO[ch],cn,[{top_level_schema_name:ch}],[b0],cm,co,"",cq);var bU="",b7="form-group",b8="";var b4=bg(bO[ch]["pCustom"],bU,b7,b8);bU=b4[0];b7=b4[1];b8=b4[2];var cp="";var cf=bO[ch];if(cf.type=="object"&&(cf.showMinMax===undefined||cf.showMinMax)){var b2="",cl="";var bW="display:none;";var b1="faug-comp-min-state faug-comp-min-button";var bZ="faug-comp-min-state";if(cf.itemrembutton===true){if(cf.custom["remButton"]===undefined){cf.custom["remButton"]={}}if(cf.custom["remButton"]["custom"]===undefined){cf.custom["remButton"]["custom"]={}}cf.custom["remButton"]["custom"]["attrpos"]="append";var cg="Remove";if(cf.custom["remButton"]["text"]){cg=cf.custom["remButton"]["text"]}if(cf.custom["remButton"]["html"]){cg=cf.custom["remButton"]["html"]}cl=be("button",undefined,undefined,undefined,["float:right","faug-comp-remove-button",{onclick:"Faug.plusminuslistfunc(event, '"+b9.name+"',this, false);return false;",list_value_cls:ch}],cf.custom["remButton"],cg,cq,false,false,null,false,null,true)}if(b0){if(cf.summaryTemplate){var bV=(d(cf.summaryTemplateDynamic)||cf.summaryTemplateDynamic===true)?true:false;b2+=bd(cf.summaryTemplate,b0,bV)}else{if(cf.summaryTemplateFunc){var cj=I(cf.summaryTemplateFunc,[b0]);if(cj.valid){b2+=cj.result}}}if(b2==""){for(var ci in cf.properties){if(cf.properties.hasOwnProperty(ci)){var b6=ci;if(b6!=null){b6=b6.substring(0,1).toUpperCase()+b6.substring(1)}if(cf.properties[ci].hasOwnProperty("display")){b6=cf.properties[ci].display}b2=(b6+": "+b0[ci]);break}}}if(cf.editMinimize!==undefined&&cf.editMinimize){bW="";b1="faug-comp-max-state faug-comp-max-button";bZ="faug-comp-max-state"}}if(cf.nominmaxbutton===false){var ce="div";if(cf.custom!==undefined){ce=cf.custom["el"]}if(ce===undefined||ce===null||ce===""){ce="div"}var bX=aw("span",cf.custom["minlabel"],bW,null,null,b2,true,false,false,null,null);if(cf.custom["minmaxbutton"]===undefined){cf.custom["minmaxbutton"]={}}if(cf.custom["minmaxbutton"]["custom"]===undefined){cf.custom["minmaxbutton"]["custom"]={}}cf.custom["minmaxbutton"]["custom"]["attrpos"]="append";var b3=ad(ch+"["+cb+"]","'");var b5=ad(ch,"'");var bY={onclick:"Faug.showHideGroupedEntity(event, this,'"+b3+"','"+b5+"','"+b9.name+"');return false;"};bY["faug-comp-min-state"]=cf.custom["minmaxbutton"]["custom"]["faug-comp-min-state"];bY["faug-comp-max-state"]=cf.custom["minmaxbutton"]["custom"]["faug-comp-max-state"];if(!bY["faug-comp-min-state"]){bY["faug-comp-min-state"]="-"}if(!bY["faug-comp-max-state"]){bY["faug-comp-max-state"]="+"}bX+=aw("button",cf.custom["minmaxbutton"],"float:right",b1,bY,bY[bZ],true);cl+=bX}cp+=aw(ce,cf.custom,null,"clearfix",null,cl,true,false,false,null,null)}var cc=$('<div class="'+b7+'" style="'+bU+'" '+b8+">");cc.html(cp+ca);return cc}this.plusminuslistfuncLoadMore=function(bV,b4,bX){if(bX.nodeName.toLowerCase()=="a"||bX.nodeName.toLowerCase()=="button"){var b0=bX.getAttribute("ident");var b5=bX.getAttribute("total");var b7=bX.getAttribute("size");var b3=bX.getAttribute("current");var b6=bm[b0];var bW=bX.getAttribute("list_value_cls");if(b3<b6.length){var b2=b3*1+b7*1;if(b2>b6.length){b2=b6.length}for(var bZ=b3;bZ<b2;bZ++){var bY;if(e[b4].details.form.custom&&e[b4].details.form.custom["properties"]){bY=e[b4].details.form.custom["properties"]}var bU=ax(e[b4].details,bW,true,b6[bZ],bY);var b1=A[bW];ap(bX.getAttribute("list_value_cls")+"["+b1+"]",e[b4].details)}bX.setAttribute("current",b2)}}bV.preventDefault();return false};this.pmlflm=this.plusminuslistfuncLoadMore;this.plusminuslistfunc=function(bZ,b0,bY,bW){if(bY.nodeName.toLowerCase()=="a"||bY.nodeName.toLowerCase()=="button"){var bX=bY.getAttribute("list_value_cls");var bV;if(e[b0].details.form.custom&&e[b0].details.form.custom["properties"]){bV=e[b0].details.form.custom["properties"]}var b1=ax(e[b0].details,bX,bW,null,bV);if(bW){document.getElementById(bX+"_cont").appendChild(b1[0]);var bU=A[bX];ap(bY.getAttribute("list_value_cls")+"["+bU+"]",e[b0].details)}}if(bW){}bZ.preventDefault();return false};this.pmlf=this.plusminuslistfunc;this.validateElement=function(bV,b4,b0){if(!b0){b0=$("#"+bV+"_Form");if(b0.length>0){b0.removeClass("faug-form-error")}}if(e[bV]){var bU=e[bV];bU=bh(bU,b4);var b6=b4.split(".");var b1=bV;if(b4.trim()!=""){for(var b9=0;b9<b6.length;b9++){b1+=("['"+b6[b9]+"']")}}if(bU){if(bU.type=="object"||bU.type=="array"){var bW=bU.properties;var bY=false;if(!bW&&bU.items){bW=bU.items.properties;bY=true}for(var bZ in bW){if(bW.hasOwnProperty(bZ)){var cd=bW[bZ];if(cd.type=="object"||cd.type=="array"){var bX=(!b4||b4=="")?bZ:(b4+"."+bZ);G(bV,bX,b0);continue}var b7=A[b1];if(b7>=0&&bY){for(var b9=0;b9<=b7;b9++){var b3=$(document.getElementsByName(b1+"["+b9+"]['"+bZ+"']"));var b8=at(b1+"["+b9+"]['"+bZ+"']_cont");if(cd.validations){var b5=b3.length>1?[true,b8.serializeObject(b1)[""][b7][bZ]]:undefined;var ca=k(cd.validations,b3,b5);if(!ca[0]){b0.addClass("faug-form-error");var b2=ca[1];var cb="";for(var b9=0;b9<b2.length;b9++){if(!b2[b9]){continue}cb+=b2[b9]+"<br/>"}if(cd.validations["errorselector"]=="helpText"){var cc=b8.find(".help-block");cc.html(cb);cc.show();b8.addClass("has-error");b8.removeClass("has-success")}if(b3.length==1&&(b3.attr("type")=="text"||b3.attr("type")=="number"||b3.attr("type")=="url"||b3.attr("type")=="email")){b3.val("")}}else{if(cd.validations["errorselector"]=="helpText"){var cc=b8.find(".help-block");b8.removeClass("has-error");b8.addClass("has-success")}}}}}else{var b3=$(document.getElementsByName(b1+"['"+bZ+"']"));var b8=at(b1+"['"+bZ+"']_cont");if(cd.validations){var b5=b3.length>1?[true,b8.serializeObject(b1)[bZ]]:undefined;var ca=k(cd.validations,b3,b5);if(!ca[0]){b0.addClass("faug-form-error");var b2=ca[1];var cb="";for(var b9=0;b9<b2.length;b9++){if(!b2[b9]){continue}cb+=b2[b9]+"<br/>"}if(cd.validations["errorselector"]=="helpText"){var cc=b8.find(".help-block");cc.html(cb);cc.show();b8.addClass("has-error");b8.removeClass("has-success")}if(b3.length==1&&(b3.attr("type")=="text"||b3.attr("type")=="number"||b3.attr("type")=="url"||b3.attr("type")=="email")){b3.val("")}}else{if(cd.validations["errorselector"]=="helpText"){var cc=b8.find(".help-block");b8.removeClass("has-error");b8.addClass("has-success")}}}}}}}else{var b3=$(document.getElementsByName(b1));var b8=at(b1+"_cont");if(bU.validations){var b5=b3.length>1?[true,b8.serializeObject(b1)[bZ]]:undefined;var ca=k(bU.validations,b3,b5);if(!ca[0]){b0.addClass("faug-form-error");var b2=ca[1];var cb="";for(var b9=0;b9<b2.length;b9++){if(!b2[b9]){continue}cb+=b2[b9]+"<br/>"}if(bU.validations["errorselector"]=="helpText"){var cc=b8.find(".help-block");cc.html(cb);cc.show();b8.addClass("has-error");b8.removeClass("has-success")}if(b3.length==1&&(b3.attr("type")=="text"||b3.attr("type")=="number"||b3.attr("type")=="url"||b3.attr("type")=="email")){b3.val("")}}else{if(bU.validations["errorselector"]=="helpText"){var cc=b8.find(".help-block");b8.removeClass("has-error");b8.addClass("has-success")}}}}}}return !b0.hasClass("faug-form-error")};var G=this.validateElement;this.ve=this.validateElement;$.fn.serializeAnything=function(bW){var bY=[];var bZ={};var bX={};var bV=$(this).find(":input").get();$.each(bV,function(){if(this.name&&
/*!this.disabled &&*/
(this.checked||/select|textarea/i.test(this.nodeName)||/text|number|email|url|hidden|file|password/i.test(this.type))){var b4=$(this);if(/select/i.test(this.nodeName)){if(b4.prop("multiple")!==true){b4=$(this.options[this.selectedIndex>-1?this.selectedIndex:0])}}var b5=b4.val();if($(this).attr("faug-serialize-position")){var b3=$(this).attr("faug-serialize-position");if(b3=="text"){b5=b4.text()}else{if(b3=="html"){b5=b4.html()}else{if(b3!="value"){b5=b4.attr(b3)}}}var b2=b4.attr("faug-serialize-function");if(b2&&b2.trim()!==""){var b1=I(b2,[b5,$(this)]);if(b1.valid){b5=b1.result}}}var b0=bW===undefined?this.name:this.name.replace(bW,"");if(b0.charAt(0)=="["&&b0.charAt(1)=="'"){b0=b0.replace("['","").replace("']","")}if(this.data!==undefined){b5=this.data.substring(this.data.indexOf(",")+1)}if(this.checked&&b4.prop("multiple")===true){if(y("Array",bZ[b0])){bZ[b0].push(b5)}else{b5=[b5]}}if(!bZ[b0]){bZ[b0]=b5}}});for(var bU in bZ){if(bZ.hasOwnProperty(bU)){bY.push({name:bU,value:bZ[bU]})}}return bY};this.fileDownload=function(bV,bY){if(!bY){bV="data:application/octet-stream,"+bV;var bW=$("<iframe/>").attr("src",bV).hide().appendTo("body")}else{var bU=document.createElement("a"),bX=document.createEvent("MouseEvents");bU.href=bV;bU.download=bV.slice(bV.lastIndexOf("/")+1);bX.initMouseEvent("click",true,false,self,0,0,0,0,0,false,false,false,false,0,null);bU.dispatchEvent(bX)}};var aN=this.fileDownload;this.fld=this.fileDownload;this.uploadMultipartForm=function(b1,bV,bZ,b2,b0,bW){var bY=$(document.getElementById(b0));var bX=new FormData(document.getElementById(b1));var bU={url:bV,type:"POST",data:bX,cache:false,contentType:false,processData:false,complete:b2,xhr:function(){myXhr=$.ajaxSettings.xhr();if(bX.fake){myXhr.send=xhr.sendAsBinary;bU.contentType="multipart/form-data; boundary="+data.boundary;bU.data=bX.toString()}if(myXhr.upload){myXhr.upload.addEventListener("progress",function(b3){return function(b4){if(b4.lengthComputable){var b6=b4.loaded/b4.total;var b5=aP(undefined,bZ.callbacks["hanldeUpdateProgress"],bW);if(!b5.valid||b5.result){if(b3.prop("tagName").toLowerCase()=="progress"){b3.attr("value",b6*100)}else{b3.css("width",b6*100+"%")}}}else{}}}(bY),false)}return myXhr}};$.ajax(bU);return false};var bv=this.uploadMultipartForm;this.umf=this.uploadMultipartForm;this.check=null;this.__check=function(){var bV=true;for(var bU in this.base64Files){if(this.base64Files.hasOwnProperty(bU)){bV&=this.base64Files[bU]["status"]}}if(bV){clearTimeout(this.check);return}this.check=setTimeout(this.__check,500)};$.fn.serializeObject=function(bV){var bW={};var bU=this.serializeAnything(bV);$.each(bU,function(){var b1=document.getElementById(this.name);if(bW[this.name]!==undefined){if(!bW[this.name].push){bW[this.name]=[bW[this.name]]}var b3=this.value||"";if(b1!=null&&b1.hasOwnProperty("data")&&b1.data!=undefined){b3=b1.data;bW[this.name].push(b3)}else{if(b1!=null&&b1.hasOwnProperty("ftype")&&b1.ftype=="base64"&&b1.type=="file"){var bX=new FileReader();bW[this.name].push(bX.readAsDataURL(file))}else{if(b3!=""){bW[this.name].push(b3)}}}}else{if(this.name.indexOf("[")==-1){var b3=this.value||"";if(b1!=null&&b1.hasOwnProperty("data")&&b1.data!=undefined){b3=b1.data;bW[this.name]=b3}else{if(b1!=null&&b1.hasOwnProperty("ftype")&&b1.ftype=="base64"&&b1.type=="file"){var bX=new FileReader();bW[this.name].push(bX.readAsDataURL(file))}else{if(b3!=""){bW[this.name]=b3}}}}else{var bY=this.name.replace(/]/g,"");bY=bY.split("[");if(bY.length>=2){var b0=null;var bZ=false;for(var b2=1;b2<bY.length;b2++){if(bY[b2].indexOf("'")==0&&bY[b2].length>2){if(!bZ){if(bW[bY[0]]==undefined){bW[bY[0]]={}}b0=bW[bY[0]];bZ=true}bY[b2]=bY[b2].substr(1,bY[b2].length-2);if(b2==bY.length-1){var b3=this.value||"";if(b1!=null&&b1.hasOwnProperty("data")&&b1.data!=undefined){b3=b1.data;b0[bY[b2]]=b3}else{if(b1!=null&&b1.hasOwnProperty("ftype")&&b1.ftype=="base64"&&b1.type=="file"){var bX=new FileReader();bW[this.name].push(bX.readAsDataURL(file))}else{if(b3!=""){b0[bY[b2]]=b3}}}}else{if(b0[bY[b2]]==undefined){if(bY.length>(b2+1)&&bY[b2+1].indexOf("'")==0&&bY[b2+1].length>2){b0[bY[b2]]={}}else{b0[bY[b2]]=[]}}b0=b0[bY[b2]]}}else{if(!bZ){if(bW[bY[0]]==undefined){bW[bY[0]]=[]}b0=bW[bY[0]];bZ=true}if(b2==bY.length-1&&!isNaN(bY[b2])){var b3=this.value||"";if(b1!=null&&b1.hasOwnProperty("data")&&b1.data!=undefined){b3=b1.data;b0.splice(bY[b2]*1,0,b3)}else{if(b1!=null&&b1.hasOwnProperty("ftype")&&b1.ftype=="base64"&&b1.type=="file"){var bX=new FileReader();bW[this.name].push(bX.readAsDataURL(file))}else{if(b3!=""){b0.splice(bY[b2]*1,0,b3)}}}}else{if(b0[bY[b2]]==undefined){if(bY.length>(b2+1)&&bY[b2+1].indexOf("'")==0&&bY[b2+1].length>2){b0[bY[b2]]={}}else{b0[bY[b2]]=[]}}b0=b0[bY[b2]]}}}}else{var b3=this.value||"";if(b1!=null&&b1.hasOwnProperty("data")&&b1.data!=undefined){b3=b1.data;bW[this.name]=b3}else{if(b1!=null&&b1.hasOwnProperty("ftype")&&b1.ftype=="base64"&&b1.type=="file"){var bX=new FileReader();bW[this.name].push(bX.readAsDataURL(file))}else{if(b3!=""){bW[this.name]=b3}}}}}}});ao(bW);bA(bW,null);return bW};function bA(b0,bZ){if(Object.prototype.toString.call(b0)==="[object Array]"){for(var bW=0;bW<b0.length;bW++){if(bZ==null){bZ=""}bA(b0[bW],bZ+"["+bW+"]")}}else{if(Object.prototype.toString.call(b0)==="[object Object]"){for(var bV in b0){var bX=b0[bV];var bU;if(bZ!=null){bU=bZ+"['"+bV+"']"}else{bU=bV}if(bO[bU+"_dummymap"]!=undefined&&bO[bU+"_dummymap"]["mtype"]!=undefined&&bO[bU+"_dummymap"]["mtype"]=="map"&&(bO[bU+"_dummymap"]["type"]=="array"||bO[bU+"_dummymap"]["type"]=="marray")&&Object.prototype.toString.call(bX)==="[object Array]"){var bY={};for(var bW=0;bW<bX.length;bW++){bA(bX[bW],bU+"["+bW+"]");bY[bX[bW].key]=bX[bW].value}b0[bV]=bY}else{bA(bX,bU)}}}}}function ao(bW){if(typeof bW!="object"){return true}var bU=false;for(var bV in bW){if(bW.hasOwnProperty(bV)&&bW[bV]!=null){if(!ao(bW[bV])){delete bW[bV]}else{bU=true}}}return bU}function ad(bU,bV){if(bV=='"'){bU=bU.replace(/"/g,'\\"')}else{if(bV=="'"){bU=bU.replace(/'/g,"\\'")}}return bU}this.eventEnergize=function(bX,bU,bW,bV){if(e[bX]){aP(e[bX]["crud"][bU]["callbacks"],bW,[e[bX],bV])}};this.evz=this.eventEnergize;this.convertDate=function(bU){return Fg.getDate(new Date(bU),w)};this.parseDate=function(bV,bU){if(!bU){bU=w}return aG.parseDate(bV,bU)};this.getDateFromFmt=function(bV,bU,bW){bW=bW?bW:w;bV=aG.parseDate(bV,bW);return Fg.getDate(bV,bU)};this.gdff=this.getDateFromFmt;function bl(bV,bU){this.d=new Date();if(bV){if(!bU){if(!bV){this.d=new Date()}else{if(Fg.is("Date",bV)){if(!isNaN(bV.getTime())){this.d=new Date(bV.getTime())}}else{this.d=new Date(bV)}}}else{this.d=Fg.parseDate(bV,bU);if(!this.d){this.d=new Date()}}}this.day=function(){return this.d.getDay()};this.month=function(){return this.d.getMonth()};this.year=function(){return this.d.getFullYear()};this.hour=function(){return this.d.getHours()};this.minute=function(){return this.d.getMinutes()};this.second=function(){return this.d.getSeconds()};this.toDate=function(){return this.d};this.date=function(){return this.d};this.diff=function(bY,bW){var bZ=bY,bX=bW;if(typeof bY&&bY.toDate!==undefined){bZ=bY.toDate()}if(typeof bW&&bW.toDate!==undefined){bX=bW.toDate()}var b0=new Date(bX-bZ);function b1(b5){var ca=b5;var cb=0,b6=0,b3=0,b7=0,b9=0,cc=0,b2=0;if(y("Date",ca)&&!isNaN(ca.getTime())){var b4=(ca.toISOString().slice(0,4)-1970)<0;if(Math.abs(ca.getTime())<86400000){var b8=Math.abs(ca.getTime());cb=0,b6=0,b3=0;b7=Math.floor(b8/(3600000));b8=b8-b7*3600000;b9=Math.floor(b8/(60000));b8=b8-b9*60000;cc=Math.floor(b8/(1000));b2=b8-cc*1000}else{if(Math.abs(ca.getTime())==86400000){cb=0,b6=0,b3=(b4?-1:1),b7=0,b9=0,cc=0,b2=0}else{cb=ca.toISOString().slice(0,4)-1970,b6=(ca.getMonth()+1)*(b4?-1:1),b3=ca.getDate()*(b4?-1:1),b7=ca.getHours()*(b4?-1:1),b9=ca.getMinutes()*(b4?-1:1),cc=ca.getSeconds()*(b4?-1:1),b2=ca.getMilliseconds()*(b4?-1:1)}}}this.years=function(){return cb};this.months=function(){return b6};this.days=function(){return b3};this.hours=function(){return b7};this.minutes=function(){return b9};this.seconds=function(){return cc};this.milliseconds=function(){return b2};return this}return new b1(b0)};this.add=function(bW,bX){bW=parseInt(bW);var bY=0;switch(bX){case"days":bY=bW*24;this.add(bY,"hours");break;case"hours":bY=bW*60;this.add(bY,"minutes");break;case"weeks":bY=bW*7;this.add(bY,"days");break;case"minutes":bY=bW*60;this.add(bY,"seconds");break;case"seconds":bY=bW*1000;this.add(bY,"milliseconds");break;case"months":bW=bW+this.d.getUTCMonth();if(bW/12>0){this.add(bW/12,"years");bW=bW%12}this.d.setUTCMonth(bW);break;case"milliseconds":this.d.setTime(this.d.getTime()+bW);break;case"years":this.d.setFullYear(this.d.getUTCFullYear()+bW);break;default:throw new Error("Invalid date increment passed");break}return this};this.minus=function(bX,bW){this.add(-bX,bW);return this};this.plus=function(bX,bW){this.add(bX,bW);return this};this.format=function(bW){var bX=Fg.getDate(this.d,bW);if((bW.indexOf("HH:")!=-1||bW.indexOf("mm:")!=-1)&&bX.indexOf(".")!=-1){bX=bX.replace(/\./g,":")}return bX};return this}this.getDateUtil=function(bV,bU){return new bl(bV,bU)};this.getDate=function(bW,bU){if(!bU){bU=w}var bV=aG.formatDate(bW,bU);if((bU.indexOf("HH:")!=-1||bU.indexOf("mm:")!=-1)&&bV.indexOf(".")!=-1){bV=bV.replace(/\./g,":")}return bV};this.gd=this.getDate;this.getDateTime=function(bV){if(!fmt){fmt=w}var bU=aG.formatDate(bV,a1);if((fmt.indexOf("HH:")!=-1||fmt.indexOf("mm:")!=-1)&&bU.indexOf(".")!=-1){bU=bU.replace(/\./g,":")}return bU};this.gdt=this.getDateTime;this.formatNumber=function(bU){if(isNaN(bU)){return bU}bU=bU*1;return aG.formatNumber(bU)};this.parseNumber=function(bU){return aG.parseNumber(bU)};this.formatCurrency=function(bW,bU,bV){if(isNaN(bW)){return bW}bW=bW*1;return aG.formatNumber(bW,!bU?O:bU,bV)};this.getTime=function(bV){if(!fmt){fmt=w}var bU=aG.formatDate(bV,N);if((fmt.indexOf("HH:")!=-1||fmt.indexOf("mm:")!=-1)&&bU.indexOf(".")!=-1){bU=bU.replace(/\./g,":")}return bU};this.gt=this.getTime;var u=function(bU){var bV=$("");if(bU){bV=bU.closest(".faug-valid-row")}return bV.data("data")};this.getFaugValidRowData=u;this.gfvrd=this.getFaugValidRowData;this.includeTemplate=function(bU,bV){var bW=ag[bU].apply(null,[bV]);return bW?bW:""};var X=this.includeTemplate;this.getModel=function(bU){this.ele=bU;this.data=u(bU);this.update=function(bV,bY,bW){var bX=bW?bW:this.ele;bX.replaceWith(X(bV,bY))};return this};var aW=this.getModel;this.gm=this.getModel;this.routeTo=function(bU){if(!bU||bU.trim()==""){return}var bW=document.location+"";if(bW.indexOf("#")!=-1&&bU){var bV=bW.substring(bW.indexOf("#")+1);bW=bW.substring(0,bW.indexOf("#"));bW+="#"+bU;document.location=bW;if(bV==bU){bP(undefined)}}else{bW+="#"+bU;document.location=bW}};var a8=this.routeTo;this.r=this.routeTo;this.getRoute=function(){var bU=document.location+"";if(bU.indexOf("#")!=-1){bU=bU.substring(bU.indexOf("#")+1)}else{bU=""}return bU};var Z=this.getRoute;this.gr=this.routeTo;this.defaultRoute=function(){if(bM.defaultroute!=""&&bM.defaultroute!==undefined&&bM.defaultroute!==null){a8(bM.defaultroute)}};var aV=this.defaultRoute;this.df=this.defaultRoute;this.firstRoute=function(){if(bM.firstroute!=""&&bM.firstroute!==undefined&&bM.firstroute!==null){a8(bM.firstroute)}};var a4=this.firstRoute;this.fr=this.firstRoute;this.prevRoute=function(){a8(v)};var aY=this.prevRoute;this.pr=this.prevRoute;this.getUrlParameters=function(){var bU={};location.search.substr(1).split("&").forEach(function(bY){var bX=bY.split("="),bW=bX[0],bV=bX[1]&&decodeURIComponent(bX[1]);(bW in bU)?bU[bW].push(bV):bU[bW]=[bV]});return bU};var bo=this.getUrlParameters;this.gup=this.getUrlParameters;this.getUrlParameterByName=function(bV){var bU=RegExp("[?&]"+bV+"=([^&]*)").exec(window.location.search);return bU&&decodeURIComponent(bU[1].replace(/\+/g," "))};var E=this.getUrlParameterByName;this.gupbn=this.getUrlParameterByName;this.handleRoute=function(b1,bU){if(!bU){bU=false}var bV=document.location+"";if(bV.indexOf("#")!=-1){bV=bV.substring(bV.indexOf("#")+1)}else{bV=""}var b2=bV.split("/");var b7=bM.routes;var bZ,b3={};var b8=b7[b2[0]];if(y("Array",b8)){var bY,b0;for(var bX=0;bX<b8.length;bX++){var b6=bM.fragments[b2[0]][bX];if(bY===undefined){bY=b6.length;b0=bX;b3={};bZ=undefined}if(b6.length<bY){bY=b6.length;b0=bX;b3={};bZ=undefined}var b4=b6.length==b2.length-1;if(b4){for(var bW=1;bW<b6.length+1;bW++){var b5=b2[bW];var b9=b6[bW-1];if(b9.indexOf("a:")!=-1){b3[b9.substring(b9.indexOf("a:")+2)]=decodeURI(b2[bW])}else{b4&=(b9=="v:"+b5)}}}if(b4){bZ=b8[bX];break}}if(!bZ){bZ=b8[b0]}}else{if(b8){bZ=b8;var b6=bM.fragments[b2[0]];var b4=b6.length<=b2.length-1;if(b4&&b2.length>1){for(var bX=1;bX<b6.length+1;bX++){var b5=b2[bX];var b9=b6[bX-1];if(b9.indexOf("a:")!=-1){b3[b9.substring(b9.indexOf("a:")+2)]=decodeURI(b2[bX])}else{b4&=(b9=="v:"+b5)}}}}}if(bZ&&(bZ.secure===false||d(bM.secure)||bM.secure===false||(bM.secure===true&&!d(R)))){if(!bU){o[n]=b3;j(bZ)(b1)}return[true,bZ.secure]}else{if(!bU){aV()}return[false,undefined]}};var bP=this.handleRoute;this.hr=this.handleRoute;this.handleRouteEvent=function(bU){bx=undefined;Faug.handleRoute(bU);Faug.execFunc("onRouteChange",[v,location.hash,bU]);v=location.hash};var bN=this.handleRouteEvent;this.hre=this.handleRouteEvent;this.initRouter=function(cr){aG=FaugExtensionFactory(Faug);var ch=aG.getDateFormats();if(ch.dateformat){w=ch.dateformat}if(ch.datetimeformat){a1=ch.datetimeformat}if(ch.timeformat){N=ch.timeformat}if(ch.timestampformat){bf=ch.timestampformat}function b8(cv,cw){if(typeof cw==="string"){var ct=cw.indexOf("%%Fg.g(");if(ct>=0){var cx=cw.indexOf(")",ct+7);var cu=cw.substring(ct+7,cx);if(o[cu]){return cw.substring(0,ct)+o[cu]+cw.substring(cx+1)}}}return cw}if(cr){if(cr.dependencies){bC(cr.dependencies.list,cr.dependencies.override)}if(cr.settings){if(cr.settings.debugEnabled){aT=cr.settings.debugEnabled}if(cr.settings.crudcreatename){aa=cr.settings.crudcreatename}if(cr.settings.crudreadname){au=cr.settings.crudreadname}if(cr.settings.crudupdatename){x=cr.settings.crudupdatename}if(cr.settings.cruddeletename){C=cr.settings.cruddeletename}if(cr.settings.crudreadallname){a7=cr.settings.crudreadallname}if(cr.settings.dateformat){w=cr.settings.dateformat}if(cr.settings.datetimeformat){a1=cr.settings.datetimeformat}if(cr.settings.timeformat){N=cr.settings.timeformat}if(cr.settings.timestampformat){bf=cr.settings.timestampformat}if(cr.settings.honourLocale){bG=cr.settings.honourLocale}if(cr.settings.freezeLoaderId){W=cr.settings.freezeLoaderId}if(cr.settings.freezeLoaderHtml){T=cr.settings.freezeLoaderHtml}if(cr.settings.compressedSchema){L=cr.settings.compressedSchema}if(cr.settings.compressedTemplatizedSchemas){m=cr.settings.compressedTemplatizedSchemas}if(cr.settings.initialLoaderScreen){bE=cr.settings.initialLoaderScreen}if(cr.settings.numApiWebWorkers){aj=cr.settings.numApiWebWorkers}if(cr.settings.defaultLanguage){aB=cr.settings.defaultLanguage}if(cr.settings.schemaIntlEnabled){a5=cr.settings.schemaIntlEnabled}if(cr.settings.defCurrency){O=cr.settings.defCurrency}}if(cr.globals){o=r(o,cr.globals)}if(cr.router){bM=cr.router}if(cr.intlmap&&Object.keys(cr.intlmap).length>0){f=cr.intlmap}if(cr.compressedSchemas&&y("String",cr.compressedSchemas)&&cr.compressedSchemas.trim()!=""&&cr.compressedSchemaHtmlTemplates&&y("String",cr.compressedSchemaHtmlTemplates)&&cr.compressedSchemaHtmlTemplates.trim()!=""){try{e=JSON.parse(cr.compressedSchemas);for(var cs in e){if(e.hasOwnProperty(cs)){if(e[cs]["templatize"]===true){var cq=JSON.stringify(e[cs],b8);try{e[cs]=JSON.parse(cq)}catch(b5){console.log("Problem templatizing schema "+cs+", error = "+b5)}}try{aZ(e[cs],false,false,false,false,false,false)}catch(b5){console.log("Problem in onSchemaLoad for schema "+cs+", error = "+b5)}}}}catch(b5){console.log("Problem parsing compressed schema");e={}}try{var b1=JSON.parse(cr.compressedSchemaHtmlTemplates);for(var cg in b1){if(b1.hasOwnProperty(cg)){var ci=b1[cg][0];var b4=b1[cg][1];if(b4==0){aD(cg,ci,{rows:null,options:null})}else{if(b4==1||b4==2){aD(cg,ci,{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null,options:null})}else{if(b4==3){aD(cg,ci,b1[cg][2])}}}}}}catch(b5){console.log("Problem parsing compressed schema HTML templates")}}else{if(cr.schemas&&y("Array",cr.schemas)&&cr.schemas.length>0){bS=cr.schemas}if(cr.templates&&y("Array",cr.templates)&&cr.templates.length>0){for(var cm=0;cm<cr.templates.length;cm++){var bY=cr.templates[cm];var ca={rows:null,options:null,row:null};var cc=false;if(y("Array",cr.templates[cm])){bY=cr.templates[cm][0];ca=cr.templates[cm][1];cc=true}$.get(bY,function(cv,cu,cw,ct){return function(cx){if(aM===true){if(ct){bT[cu]=[cx,3,cw]}else{bT[cu]=[cx,0]}}cv(cu,cx,cw)}}(aD,bY,ca,cc))}}}}for(var cm=0;cm<aj;cm++){var cb=new FaugWebWorker("w-api-call.js");cb.setOnMsgCallback(function(cu){var ct=cu.data;if(ct&&ct.length==3){I(ct[1],ct[2],true)}aR(false)});bz.push(cb)}var bW=bM.routes;bM.fragments={};for(var cj in bM.aliases){if(bM.aliases.hasOwnProperty(cj)&&y("Array",bM.aliases[cj])){for(var cm=0;cm<bM.aliases[cj].length;cm++){bW[bM.aliases[cj][cm]]=bW[cj]}}}for(var cj in bW){if(bW.hasOwnProperty(cj)){var cd=cj.split("/");var ce=[];for(var cm=1;cm<cd.length;cm++){cd[cm]=cd[cm].trim();var b0;if(cd[cm].indexOf(":")==0&&cd[cm].length>1){b0="a:"+cd[cm].substring(1);ce.push(b0)}else{if(cd[cm].length>1){b0="v:"+cd[cm];ce.push(b0)}}}if(bW[cd[0]]&&cd[0]!==cj){var cp=bW[cj];delete bW[cj];if(y("Array",bW[cd[0]])){bW[cd[0]].push(cp);bM.fragments[cd[0]].push(ce)}else{bW[cd[0]]=[bW[cd[0]],cp];bM.fragments[cd[0]]=[bM.fragments[cd[0]],ce]}}else{var cp=bW[cj];delete bW[cj];bW[cd[0]]=cp;bM.fragments[cd[0]]=ce}}}var cf=bF;if(cr.compressedScript===true){cf=[]}else{var b9=aG.getDateLib(bG);if(y("String",b9)&&b9.trim()!=""){cf.push([b9.trim()])}if(y("Array",b9)&&b9.length>0){for(var cm=0;cm<b9.length;cm++){if(y("String",b9[cm])&&b9[cm].trim()!=""){cf.push([b9[cm].trim()])}}}var bV=aG.getNumCurrLib();if(y("String",bV)&&bV.trim()!=""){cf.push([bV.trim()])}if(y("Array",bV)&&bV.length>0){for(var cm=0;cm<bV.length;cm++){if(y("String",bV[cm])&&bV[cm].trim()!=""){cf.push([bV[cm].trim()])}}}var cn=aG.getUnitLib();if(y("String",cn)&&cn.trim()!=""){cf.push([cn.trim()])}if(y("Array",cn)&&cn.length>0){for(var cm=0;cm<cn.length;cm++){if(y("String",cn[cm])&&cn[cm].trim()!=""){cf.push([cn[cm].trim()])}}}var co=aG.getDateTimePickerLib();if(y("String",co)&&co.trim()!=""){cf.push([co.trim()])}if(y("Array",co)&&co.length>0){for(var cm=0;cm<co.length;cm++){if(y("String",co[cm])&&co[cm].trim()!=""){cf.push([co[cm].trim()])}}}var b3=aG.getDialogLib();if(y("String",b3)&&b3.trim()!=""){cf.push([b3.trim()])}if(y("Array",b3)&&b3.length>0){for(var cm=0;cm<b3.length;cm++){if(y("String",b3[cm])&&b3[cm].trim()!=""){cf.push([b3[cm].trim()])}}}var b7=aG.getIntlLib();if(y("String",b7)&&b7.trim()!=""){cf.push([b7.trim()])}if(y("Array",b7)&&b7.length>0){for(var cm=0;cm<b7.length;cm++){if(y("String",b7[cm])&&b7[cm].trim()!=""){cf.push([b7[cm].trim()])}}}var bU=aG.getTemplateEngineLib();if(y("String",bU)&&bU.trim()!=""){cf.push([bU.trim()])}if(y("Array",bU)&&bU.length>0){for(var cm=0;cm<bU.length;cm++){if(y("String",bU[cm])&&bU[cm].trim()!=""){cf.push([bU[cm].trim()])}}}var bX=false;if(cr.modules&&cr.modules.length>0){bX=true;for(var cm=0;cm<cr.modules.length;cm++){if(y("String",cr.modules[cm])&&cr.modules[cm].trim()!=""){cf.push([cr.modules[cm].trim()])}if(y("Array",cr.modules[cm])&&cr.modules[cm].length>0){for(var cl=0;cl<cr.modules[cm].length;cl++){if(y("String",cr.modules[cm][cl])&&cr.modules[cm][cl].trim()!=""){cf.push([cr.modules[cm][cl].trim()])}}}}}if(!aB){var ck=$("html").attr("lang");if(ck!==undefined&&ck.trim()!=""){aB=ck}}if(!aB){aB="en"}var b2=$("html").attr("data-faug-module");if(b2!==undefined&&b2.trim()!=""){bX=true;var b6=b2.split(",");for(var cm=0;cm<b6.length;cm++){if(y("String",b6[cm])&&b6[cm].trim()!=""){cf.push([b6[cm].trim()+".js"])}}}if(!bX){alert("No Faug module specified")}}var bZ=function(){if(Faug.getSchemaResources()){var cv=function(cC){try{var cB=JSON.parse(cC[1]);if(cB.templatize===true){try{var cz=JSON.stringify(cB,b8);cB=JSON.parse(cz)}catch(cy){cy+=" ("+cC[0]+")";console.log("Problem templatizing schema "+cy)}}aZ(cB,false,false,false,false,false,true)}catch(cA){cA+=" ("+cC[0]+")";console.log("Problem parsing schema "+cA)}};Faug.execFunc("onBeforeInit",[]);$.fetchMultipleFiles(Faug.getSchemaResources(),cv).done(function(){var cz=function(){var cC=Faug.handleRoute(undefined,true);if(cC[1]!==false){Faug.init();Faug.firstRoute()}};if(!Q){var cB=E("flocale");if(cB&&cB.trim()!=""){aB=cB}var cy=aB;if(bG){}var cA=aG.setInitCompleteCb(cz);aG.registerLocale(cy);aG.registerCurrency(O);aG.initDateLib();aG.initDateTimePickerLib();aG.initNumCurrLib();aG.initUnitLib();aG.initDialogLib();aG.initIntlLib(f);aG.initTemplateEngineLib();if(!cA){cz()}}else{cz()}}).fail(function(cy){if(Faug.isInitialLoaderScreen()){Faug.freezeUI(false)}alert("Problem loading schema files")})}else{var cu=function(){var cy=Faug.handleRoute(undefined,true);if(cy[1]!==false){Faug.init();Faug.firstRoute()}};if(!Q){var cx=E("flocale");if(cx&&cx.trim()!=""){aB=cx}var ct=aB;if(bG){}var cw=aG.setInitCompleteCb(cu);aG.registerLocale(ct);aG.registerCurrency(O);aG.initDateLib();aG.initDateTimePickerLib();aG.initNumCurrLib();aG.initUnitLib();aG.initDialogLib();aG.initIntlLib(f);aG.initTemplateEngineLib();if(!cw){cu()}}else{cu()}}$(window).on("hashchange",function(cz){if(Faug.gp("stateFreeze")){Faug.execFunc("onBeforeRouteChange",[bx[0],bx[1],bx[2],true]);return}var cy=Faug.execFunc("onBeforeRouteChange",[v,location.hash,cz,false]);if(cy.valid&&cy.result!==true){Faug.sp("stateFreeze",[v,location.hash,cz]);return}Faug.sp("stateFreeze",undefined);Faug.handleRoute(cz);Faug.execFunc("onRouteChange",[v,location.hash,cz]);v=location.hash});if(Faug.isInitialLoaderScreen()){Faug.freezeUI(false)}};if(g()){aR(true)}if(cf.length==0){bZ()}else{$.fetchMultipleFiles(cf).done(bZ).fail(function(ct){if(Faug.isInitialLoaderScreen()){Faug.freezeUI(false)}alert("Problem loading required files")})}};return this};var Fg=Faug;function __loadfaugconfig(){var a={};$.getJSON(Faug.getConfigPath(),function(b){a=b}).done(function(){if(a.compressedScript===true){Faug.initRouter(a)}else{$.fetchMultipleFiles([["faug-ext-globalize.js"]]).done(function(){Faug.initRouter(a)}).fail(function(b){alert("Problem loading Faug extension library")})}}).fail(function(b){console.log("Error loading config.json ("+b+")")})}$(document).ready(function(){if(typeof(Worker)!=="undefined"){FaugWebWorker=function(b,c){this.script=b;this.onMsgCallback=c;this.worker=new Worker(b);this.send=function(d){this.worker.postMessage(d)};this.setOnMsgCallback=function(d){this.onMsgCallback=d;if(d){this.worker.addEventListener("message",function(f){d(f)},false)}};this.stop=function(){this.worker.terminate()};this.setOnMsgCallback(c)};$.fetchMultipleFiles=function(c,d){var b=$.Deferred();var e=new FaugWebWorker("w-fetch-file.js");e.setOnMsgCallback(function(f,g){return function(h){if(h.data==1){f.resolve(h);g.stop()}else{if(Faug.is("Array",h.data)){if(h.data[2]=="script"){$.globalEval(h.data[1])}else{if(d){d(h.data)}}}else{f.reject(h)}}}}(b,e));e.send(c);return b}}else{$.fetchFile=function(d,c,b,e,f){if(e===undefined){e=false}$.ajax({type:"GET",url:d,dataType:c,success:f,cache:b,async:e})};$.fetchMultipleFiles=function(b){var c=$.map(b,function(g){var f=g.length>1?g[1]:"";if(f==""){if(/\.json/.test(g[0])){f="json"}else{if(/\.js/.test(g[0])){f="script"}else{if(/\.html/.test(g[0])){f="html"}}}}var e=g.length>2?g[2]:true;var d=g.length>3?g[3]:false;return $.fetchFile.apply(null,[g[0],f,e,d,eachCallback])});c.push($.Deferred(function(d){$(d.resolve)}));return $.when.apply($,c)}}var a=Faug.execFunc("onLoad",[]);if(a.valid){Faug.sp("loadconfigafterauth",a.result)}if(!Faug.gp("loadconfigafterauth")){__loadfaugconfig()}});